!function(e){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var a,i=t?t:0,n;if(!this)throw new TypeError;if(n=this.length,0===n||i>=n)return-1;for(0>i&&(i=n-Math.abs(i)),a=i;n>a;a++)if(this[a]===e)return a;return-1});var t={};window.Hudsoninteraction=t,t.Async=function(){function t(e,t){t?(e.css("display","block"),e.addClass("active")):(e.css("display","none"),e.removeClass("active"))}var a=this;a.ajaxCall=function(a,i,n,o){console.log(a);var r=e('[data-widget-role=inline-process][data-role-name="'+a.attr("data-widget-role")+'"]');t(r,1);var d=!0;setTimeout(function(){o(d),t(r,0)},2e3)}},t.testTouch=function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)||-1!=navigator.appVersion.toLowerCase().indexOf("mobile")},t.tabFix=function(){for(var t="a, button, input, select, textarea",a=e("#page-content").find(t).toArray(),i=e("header").find(t).toArray(),n=e("footer").find(t).toArray(),o=[].concat(a,n,i),r=0;r<o.length;r++)o[r].setAttribute("tabindex",r+1)},t.Window=new function(){function n(){var t="<div id = 'inline-test' class = 'grid-row'><div class ='check' style = 'width: 1px' id = 'unit1'></div> <div class = 'check' style = 'width: 1px'  id = 'unit2'></div></div>";e("body").append(t),e("html").addClass(e("#unit2").offset().left>1?"inline-fail":"inline-pass"),e("#inline-test").remove()}function o(i){var n=s();e("html").attr("data-current-breakpoint",n),d()||(e("html").removeClass("touch").addClass("notouch"),l.touch=!1),a();var o=t.Menu;o.isAndroidTablet()?e("html").addClass("android-tablet"):e("html").removeClass("android-tablet"),(e("html").hasClass("android-modern")||e("html").hasClass("ios-modern"))&&(o.adjustSubNavHeight(),parseInt(e(".nav-wrapper").css("width"),10)===e(window).width()&&o.preventOverScroll())}function r(a){var n=t.Menu,o=s();e("html").attr("data-current-breakpoint",o);var r=e(".nav-wrapper").hasClass("active");if(e("html").hasClass("baseline")&&n.adjustOverlayHeight(r),e(window).height()>320?e(".landscape").removeClass("landscape"):(e("html").hasClass("android-modern")||e("html").hasClass("ios-modern"))&&(e("html").addClass("landscape"),n.lockDocumentScroll(!1)),(e("html").hasClass("android-modern")||e("html").hasClass("ios-modern"))&&n.adjustSubNavHeight(),e("html").hasClass("notouch")&&e(window).width()>320&&e(".nav-wrapper").hasClass("active")&&!e("html").hasClass("lt-ie9")&&n.showNav(!1),parseInt(e(".nav-wrapper").css("width"),10)!==e(window).width()&&e("html").hasClass("touch")){var d=e("#nav-header").offset().left,l=d>10?d+5:0;e(".nav-wrapper").css({right:l})}i()?e("html").addClass("baseline"):e("html").removeClass("baseline"),n.isAndroidTablet()?e("html").addClass("android-tablet"):e("html").removeClass("android-tablet")}function d(){return void 0!=window.navigator.msMaxTouchPoints?window.navigator.msMaxTouchPoints>0?!0:!1:!!("ontouchstart"in window)||!!("onmsgesturechange"in window)||!!/iemobile/i.test(navigator.userAgent)}function s(){var t,a,i,n,o=l.width=e(window).width();return e.each(l.breakpoints,function(e,a){a.width<=o&&(t=a.breakpointName)}),t}var l=this;l.touch=!0,l.width=0,l.scrollPos=0,l.init=function(){o(),e(window).on("orientationchange orientationEvent resize",r),n()},l.breakpoints={small:{width:320,breakpointName:"small"},medium:{width:500,breakpointName:"medium"},large:{width:720,breakpointName:"large"},extralarge:{width:1024,breakpointName:"xlarge"}}},t.Menu=new function(){var a=this,n=t.Window,o={small:320,"medium-":500,"medium+":525,large:720,"large+":780,xlarge:1024},r=["base","xl-global-retina","small","small-landscape","small-retina","medium-hamburger","medium","medium-landscape","large","large-","x-large"];a.getMediaQueryName=function(){0===e(".js-mq").length&&e("body").append(e('<div class="js-mq"></div>'));var t=e(".js-mq").css("z-index")-1;return e(".js-mq").remove(),r[t]},a.getMediaQueryIndex=function(e){for(var t=-1,a=0;a<r.length;a++)r[a]===e&&(t=a);return t>-1?t:!1},a.getCurrentMediaQueryIndex=function(){var e=a.getMediaQueryName();return a.getMediaQueryIndex(e)};var d,s,l,c,p,f,u=[74,75],h=!1,m=!1;a.init=function(){d=e(".pinnable"),s=d.find(".header-wrapper"),l=d.find(".nav-wrapper"),c=d.find(".header-spacer"),p=e(".nav-overlay"),f=e(".no-nav"),setTimeout(a.hideAddressBar,50),n.touch===!1&&(e(window).on("scroll",a.scrollEvent),e(window).on("resize",a.resizeEvent)),d.find(".has-sub-nav").on("click",a.subNavClickEvent),d.find(".more-link, .close").on("click",a.navClickEvent),"fixed"!==e(".header-wrapper").css("position")||a.isAndroidTablet()||p.on("mousedown",a.navClickEvent)},a.hideAddressBar=function(){window.scrollTo(0,~~window.scrollY+1)},a.scrollEvent=function(){if(n.scrollPos=e(document).scrollTop(),!f.length){var t=a.getCurrentMediaQueryIndex(),i=a.getMediaQueryIndex("large");i>t||(m&&n.scrollPos<=u[0]?(h&&a.cancelPinning(),a.unpinHeader()):!m&&n.scrollPos>=u[1]&&(h||a.pinHeader()))}},a.pinHeader=function(){var t=e("html").data("data-current-breakpoint");e(window).width()/e(window).height()>1.6&&"small"!==t&&e("html").hasClass("touch")||(h=m=!0,d.addClass("pinned"),l.find("*").css({opacity:0}).animate({opacity:1},400,function(){h=!1}))},a.unpinHeader=function(){d.removeClass("pinned"),m=!1},a.cancelPinning=function(){l.find("*").stop(),l.find("*").css("opacity",""),h=!1},a.resizeEvent=function(){var e=a.getCurrentMediaQueryIndex(),t=a.getMediaQueryIndex("large");t>e&&a.unpinHeader(),e>t&&!m&&n.scrollPos>=u[1]&&(d.addClass("pinned"),m=!0)},a.navClickEvent=function(){var t=a.getCurrentMediaQueryIndex(),i=a.getMediaQueryIndex("small");if(!(e("html").hasClass("notouch")&&e(".pinnable").height()>90&&t>i)){var n=e(this),o=n.hasClass("more-link")&&!l.hasClass("active");return a.showNav(o),!1}},a.consumeScrollEvents=function(t){e("html").hasClass("landscape")||t.preventDefault()},a.showHighendNav=function(t){e(window).height()>320||(t?(e("html").addClass("landscape"),a.adjustSubNavHeight()):e("html").removeClass("landscape"))},a.showBaselineNav=function(t){if(t){if(e("html").hasClass("baseline"))l.addClass("active"),e(".nav-close-spacer").addClass("active"),"small"===e("html").attr("data-current-breakpoint")&&window.scrollTo(0,0);else{if(parseInt(e(".nav-wrapper").css("width"),10)!==e(window).width()&&e("html").hasClass("touch")){var a=e("#nav-header").offset().left,i=a>10?a+5:0;e(".nav-wrapper").css({right:i})}l.fadeIn(400,function(){l.addClass("active"),e(".nav-close-spacer").addClass("active"),l.css("display",""),l.css("overflow",""),"small"===e("html").attr("data-current-breakpoint")&&window.scrollTo(0,0)})}s.find(".more-wrapper").addClass("active")}else e("html").hasClass("baseline")||e("html").hasClass("touch")&&"small"!==e("html").attr("data-current-breakpoint")||e("html").hasClass("notouch")&&-1===["small","medium"].indexOf(e("html").attr("data-current-breakpoint"))?(l.hide(),l.removeClass("active"),e(".nav-close-spacer").removeClass("active"),l.css("display","")):h||(h=!0,e(".nav-close-spacer").removeClass("active"),l.fadeOut(400,function(){l.removeClass("active"),l.css("display",""),h=!1})),s.find(".more-wrapper").removeClass("active")},a.isAndroidTablet=function(){return i()?e("html").hasClass("notouch")?!1:0===window.orientation&&e(window).width()<e(window).height()&&"small"!==e("html").attr("data-current-breakpoint"):!1},a.updateOverScrollBounds=function(){var t=e(".main-nav-wrapper")[0];t&&(a.allowScrollUp=t.scrollTop>0,a.allowScrollDown=t.scrollTop<t.scrollHeight-t.clientHeight-3)},a.preventOverScroll=function(){var t=e(".main-nav-wrapper")[0],i=function(e){a.updateOverScrollBounds(),a.lastY=e.touches[0].pageY},n=function(t){if(a.up=t.touches[0].pageY>a.lastY,a.tap=t.touches[0].pageY===a.lastY,a.down=!a.up,a.lastY=t.touches[0].pageY,a.up&&a.allowScrollUp||a.down&&a.allowScrollDown)t.stopPropagation();else{if(e("html").hasClass("landscape")||a.tap)return;t.preventDefault()}};e("html").hasClass("landscape")||(a.allowScrollUp=!0,a.allowScrollDown=!0,a.lastY=0,t.addEventListener("touchstart",i,!0),t.addEventListener("touchmove",n,!0),t.addEventListener("touchstart",n,!0))},a.lockDocumentScroll=function(t){t?e(document).bind("touchmove",a.consumeScrollEvents):e(document).unbind("touchmove",a.consumeScrollEvents)},a.showOverlay=function(t){t?(p.addClass("active"),a.adjustOverlayHeight(t),i()&&!a.isAndroidTablet()&&e("#page-content,footer").hide()):(p.removeClass("active"),p.removeAttr("style"),a.adjustOverlayHeight(t),e("#page-content,footer").show()),(e("html").hasClass("ios-modern")||e("html").hasClass("android-modern")&&-1!==["small","medium"].indexOf(e("html").attr("data-current-breakpoint")))&&a.lockDocumentScroll(t)},a.adjustOverlayHeight=function(t){if(t){if(e("html").hasClass("baseline")&&!a.isAndroidTablet())var i=e(window).height();else var i=e(document).height();var n=i>e(".top-nav").height()?i:e(".top-nav").height();n+=15,e(".nav-overlay").css({height:n})}else e(".nav-overlay").css("height","")},a.showNav=function(t){a.showBaselineNav(t),(e("html").hasClass("ios-modern")||e("html").hasClass("android-modern"))&&a.showHighendNav(t),a.showOverlay(t)},a.subNavClickEvent=function(t){if(!(e("html").hasClass("notouch")&&e(".pinnable").height()>90&&e(window).width()>=541)){var i=e(this),n=!i.hasClass("active"),o=e(".has-sub-nav.active");"#"!==t.target.getAttribute("href")&&o||i.hasClass("nonactive")||(o.length&&a.showSubNav(o,!1),n&&setTimeout(function(){a.showSubNav(i,!0)},o.length?301:0))}},a.adjustSubNavHeight=function(){if(!e("html").hasClass("baseline")){var t=e(".min-money-bar").height()+e(".action-nav").height()+10,i=e("li.top-level").not(".sub-nav").eq(0).height();e("li.top-level").each(function(){t+=i}),e("li.top-level.active").find("li").each(function(){t+=e(this).height()}),e("html").hasClass("landscape")?e(".top-nav").css({height:t}):e(".top-nav").removeAttr("style"),a.updateOverScrollBounds()}},a.showSubNav=function(t,i){i?(t.addClass("up"),t.find(".sub-nav").slideDown(300,function(){e(this).css({display:"",overflow:""}),t.addClass("active"),a.adjustOverlayHeight(i)}),setTimeout(function(){t.closest(".main-nav-wrapper").animate({scrollTop:t[0].offsetTop},100,"swing",function(){a.adjustSubNavHeight()})},300)):(t.closest(".main-nav-wrapper").animate({scrollTop:0},100),t.removeClass("up"),t.find(".sub-nav").slideUp(300,function(){e(this).css({display:"",overflow:""}),t.removeClass("active"),"0px"!==e(".nav-overlay").css("height")&&a.adjustOverlayHeight(!0),a.adjustSubNavHeight()}))}},t.Widget=new function(){function a(t){var a=t?t.target:window.event.srcElement,i=e(a);"open"!==i.attr("data-action-state")&&1!==i.closest("[data-action-state=open]").length?("open"===e("*[data-open-by=animation]").attr("data-action-state")&&e("*[data-open-by=animation]").slideToggle(100),e("*[data-action-state='open']").attr("data-action-state","closed").attr("aria-hidden","true"),e("input[data-widget-type=contact-field]").removeAttr("disabled")):("open"===i.attr("data-action-state")||i.closest('[data-action-state="open"]').length>0)&&("tootltip-body"===i.attr("data-action-role")||i.closest("[data-action-role=tooltip-body]").length>0&&"A"!=i.prop("tagName"))&&e("*[data-action-state='open']").attr("data-action-state","closed").attr("aria-hidden","true")}var i=this;i.init=function(t){t=t||e("body"),t.find("*[data-widget-type]").each(function(){var t,a=e(this),n=a.attr("data-widget-type");switch(n){case"card-selection":t=i.CardSelection,a.on("click","a",t.click);break;case"action-prompt":t=i.ActionPrompt,t.init(a),a.on("click",t.reveal);break;case"mp-action-prompt":t=i.MpActionPrompt,t.init(a),a.on("click",t.reveal);break;case"inline-modifier":t=i.InlineModifier,a.on("click",t.click);break;case"dismissable":t=i.Dismissable,t.init(a);break;case"date-filter":t=i.DateFilter,t.init(a);case"select":t=i.EnhancedSelect.Simple,t.init(a),a.on("change",t.click);break;case"select-card":t=i.EnhancedSelect.Card,t.init(a),a.on("change",t.click);break;case"select-state":t=i.EnhancedSelect.State,t.init(a),a.on("change",t.click);break;case"select-card-and-reveal":i.EnhancedSelect.Card.init(a),a.on("focus",i.AccordionReveal.focus),a.on("change",i.EnhancedSelect.Card.click),a.on("change",i.AccordionReveal.change);break;case"tooltip":a.on("click",i.ToolTip.click);break;case"contacts":t=i.Contacts,a.on("click",t.open),t.delegateClick(a);break;case"action-prompt":t=i.ActionPrompt,t.init(a),a.on("click",t.reveal);break;case"page-view-control":t=i.PageView,t.init(a),a.on("change",t.change);break;case"load-more-control":t=i.LoadMore,a.on("click",t.click);break;case"delete-payee-container":t=i.DeletePayee,t.init(a);break;case"bill-pay-date-filter":t=i.BPDateFilter,t.init(a);break;case"bp-load-more":t=i.BpLoadMore,t.init(a);break;case"processing-overlay":t=i.ProcessingOverlay,t.init(a);break;case"radio-clear":a.one("change",i.RadioClear.change);break;case"radio-hide":a.on("change",i.RadioHide.change);break;case"radio-expand-animate":i.RadioExpandAnimate.init(a);break;case"radio-clear-always":a.on("change",i.RadioClear.change);break;case"check-helper":i.BankAccountHelper.init(a);break;case"message-fades":i.MessageFades.init(a);break;case"reveal-accordion-trigger":a.on("focus",i.AccordionReveal.focus);break;case"dynamic-card-changer":t=i.CardTypeReveal,t.init(a),a.on("keyup",t.keyup);break;case"contextual-help":e("#bubble").addClass("first"),t=i.HelpBubble,a.on("focus","input, select",t.reveal),a.on("blur","input, select",t.hide);break;case"replace-link-confirm":a.on("click",function(e){i.replaceLinkWithConfirm.resend(),e.preventDefault});break;case"referAddEmails":t=i.ReferEmails,t.init(a);break;case"fileUploadBtn":i.FileUpload.init(a);break;case"addAnotherFile":i.AddAnotherFile.init(a);break;case"enhance-link":i.enhanceLink(a);break;case"date-filter-future":t=i.DateFilterFuture,t.init(a);break;case"toggle-date-field":a.on("change",i.ToggleField.change);break;case"edit-inline":i.EditNameInline.init(a);break;case"dynamic-frequency":i.DynamicFrequency.init(a);break;case"seg-accts-dynamic-pause":a.on("click",i.SegAccts.click);break;case"load-more-transaction-control":t=i.LoadMoreTransaction,a.on("click",t.click);break;case"direct-deposit-print-form":t=i.PrintForm,t.init(a);break;case"responsive-image":t=i.ResponsiveImage,t.init(a);break;case"bar-chart":t=i.BarChart,t.init(a);break;case"dismissable-notification":t=i.DismissableNotification,t.init(a);break;case"action-prompt-2":t=i.ActionPrompt2,t.init(a),a.on("click",t.reveal);break;case"mp-action-prompt-2":t=i.MpActionPrompt2,t.init(a),a.on("click",t.reveal);break;case"focus-reveal":t=i.FocusReveal,t.init(a)}}),e("input, textarea").each(function(){var t=e(this),a=t.attr("data-input-type"),n=t.attr("class"),o=t.attr("type"),r;switch(a){case"dollar":r=i.DollarInput,t.on("focus",r.focus),t.on("keyup",r.keyup),t.on("blur",r.blur)}switch(o){case"radio":r=i.EnhancedRadio,r.init(t),t.on("change",r.change);break;case"checkbox":r=i.EnhancedCheckbox,r.init(t),t.on("change",r.change)}void 0!=n&&n.indexOf("prefill")>=0&&(r=i.ClearPrefill,r.init(t),t.on("keyup change",r.keyup))}),e(".container").on("click",function(e){a(e)}),Date.prototype.toMMDDYYYYString=function(){return isNaN(this)?"NaN":[this.getMonth()>8?this.getMonth()+1:"0"+(this.getMonth()+1),this.getDate()>9?this.getDate():"0"+this.getDate(),this.getFullYear()].join("/")},Date.prototype.toYYYYMMDDString=function(){return isNaN(this)?"NaN":[this.getFullYear(),this.getMonth()>8?this.getMonth()+1:"0"+(this.getMonth()+1),this.getDate()>9?this.getDate():"0"+this.getDate()].join("-")},Date.prototype.plusDays=function(e){return this.setDate(this.getDate()+e),this}},i.InlineModifier=new function(){var t=this;t.click=function(a){var i=e(this),n=i.closest("*[data-widget-type=inline-actionable]");switch(i.attr("data-property-action")){case"delete":t.DeleteInline(n);break;case"primary":t.SwapPrimary(n);break;case"optin":t.OptIn(n);break;case"optout":t.OptOut(n);break;case"addphone":t.AddPhone(n);break;case"verify-0":t.Verify(n,0);break;case"verify-1":t.Verify(n,1);break;case"close-prompt":t.closePrompt(n);break;case"email":t.ResendEmail(n);break;case"resend-code":t.ResendCode(n);break;case"addemail":t.AddEmail(n);break;case"disableAutoAccept":t.DisableAutoAccept(n);break;case"enableAutoAccept":t.EnableAutoAccept(n);break;case"deleteSetting":t.DeleteSetting(n);break;case"directDeposit":t.DirectDeposit(n);break;case"disableLowBalanceAlerts":t.DisableLowBalanceAlerts(n);break;case"disableScheduleAlerts":t.DisableScheduleAlerts(n);break;case"enableATMWithdrawals":t.EnableATMWithdrawals(n);break;case"disableATMWithdrawals":t.DisableATMWithdrawals(n);break;case"enableSMSNotifications":t.EnableSMSNotifications(n);break;case"disableSMSNotifications":t.DisableSMSNotifications(n);break;case"enableSettingsChangedNotifications":t.EnableSettingsChangedNotifications(n);break;case"disableSettingsChangedNotifications":t.DisableSettingsChangedNotifications(n);break;case"disableCloseAccount":t.DisableCloseAccount(n);break;case"primary-game":t.GameChange(n);break;case"pauseReserve":t.pauseReserve(n)}},t.InlineOverlay=function(t){t?e(".inline-overlay").css("display","block"):e(".inline-overlay").css("display","none")},t.DeleteInline=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DeleteInlineComplete(e)},2500)},t.DeleteInlineComplete=function(e){e.fadeOut(300),t.InlineOverlay(!1),setTimeout(function(){e.remove()},450)},t.SwapPrimary=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.SwapPrimaryComplete(e)},2500)},t.SwapPrimaryComplete=function(a){var n=e("*[data-widget-type=inline-actionable][data-property-primary=true]"),o=n.clone(!1,!1);n.fadeOut(300),a.fadeOut(300),setTimeout(function(){if(a.attr("data-property-email"))n.find(".phonenumber").text(a.find(".phonenumber").text()),n.find(".item").find(".label").text("(Verified)"),a.find(".phonenumber").text(o.find(".phonenumber").text()),a.find(".item").find(".label").text(""),a.prependTo(a.parent());else{var r="true"===a.attr("data-property-mobile"),d="true"===a.attr("data-property-optin"),s=a.attr("data-widget-name"),l=n.attr("data-widget-name"),c="true"===n.attr("data-property-mobile"),p="true"===n.attr("data-property-optin");n.attr("data-property-mobile",r),n.attr("data-property-optin",d),a.attr("data-property-mobile",c),a.attr("data-property-optin",p),n.find(".phonenumber").text(a.find(".phonenumber").text()),n.find(".item").find(".label").text(r&&d?"(SMS Enabled)":"");var f="<ul><li><a data-widget-type = 'action-prompt' data-widget-name = '"+l+"-"+(d?"optout":"optin")+"'>"+(d?"Disable":"Enable")+" SMS</a></li></ul>";n.find(".action-link").html(r?f:""),a.find(".phonenumber").text(o.find(".phonenumber").text()),a.find(".item").find(".label").text(c&&p?"(SMS Enabled)":"");var u="<ul>";c&&(u+="<li><a id = 'opt-out' data-widget-type = 'action-prompt' data-widget-name = '"+s+"-"+(p?"optout":"optin")+"'>"+(p?"Disable":"Enable")+" SMS</a></li><span class = 'separator'>|</span>"),u+="<li><a data-widget-type = 'action-prompt' data-widget-name = '"+s+"-promote'>Make Primary</a></li><span class = 'separator'>|</span><li><a data-widget-type = 'action-prompt' data-widget-name = '"+s+"-delete'>Delete</a></li>",a.find(".action-link").html(u),a.prependTo(a.parent())}t.InlineOverlay(!1),a.find("*[data-widget-type=action-prompt]").each(function(){i.ActionPrompt.init(e(this)),e(this).click(i.ActionPrompt.reveal)}),n.find("*[data-widget-type=action-prompt]").each(function(){i.ActionPrompt.init(e(this)),e(this).click(i.ActionPrompt.reveal)})},300),setTimeout(function(){a.find(".prompt-revealed").removeClass("prompt-revealed"),a.find(".prompt-box").removeClass("active").hide(0),a.find(".inline-processing").hide(),o.remove(),setTimeout(function(){a.fadeIn(300)},200),n.fadeIn(300)},400)},t.Verify=function(a,i){0==i?a.find("*[data-widget-property=pre-state]").fadeOut(300,function(){a.addClass("pending-verification"),a.find("*[data-widget-property=post-state]").fadeIn(300,function(){a.find(".prompt-box").removeClass("active"),e(this).addClass("active")})}):t.OptIn(a)},t.OptIn=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.OptInComplete(e)},2500)},t.OptInComplete=function(a){var n=a.attr("data-widget-name");a.find(".prompt-revealed").removeClass("prompt-revealed"),a.find(".prompt-box").removeClass("active").hide(0),a.find(".inline-processing").hide(),a.find(".item").find(".label").text("(SMS Enabled)"),a.find(".item").find(".label").fadeOut(0).fadeIn(300),a.find("*[data-widget-type=action-prompt][data-widget-name="+n+"-optin]").text("Disable SMS").attr("data-widget-name",n+"-optout"),a.find("*[data-widget-type=action-prompt]").each(function(){i.ActionPrompt.init(e(this)),e(this).click(i.ActionPrompt.reveal)}),t.InlineOverlay(!1),a.closest(".grey-box").removeClass("pending-verification")},t.OptOut=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.OptOutComplete(e)},2500)},t.OptOutComplete=function(a){var n=a.attr("data-widget-name");a.find(".item").find(".label").fadeOut(150),setTimeout(function(){a.find(".item").find(".label").text("").fadeIn(0)},160),a.find(".prompt-revealed").removeClass("prompt-revealed"),a.find(".prompt-box").removeClass("active").hide(0),a.find(".inline-processing").hide(),a.find("*[data-widget-type=action-prompt][data-widget-name="+n+"-optout]").text("Enable SMS").attr("data-widget-name",n+"-optin"),a.find("*[data-widget-type=action-prompt]").each(function(){i.ActionPrompt.init(e(this)),e(this).click(i.ActionPrompt.reveal)}),t.InlineOverlay(!1)},t.closePrompt=function(e){e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400),e.find(".inline-processing").hide(),setTimeout(function(){e.removeClass("pending-verification")},400)},t.AddPhone=function(a){e("#proto-new-phone").fadeIn(300),t.InlineOverlay(!1)},t.AddEmail=function(t){e("#proto-unverified-email").fadeIn(300)},t.ResendEmail=function(e){t.InlineOverlay(!0),setTimeout(function(){t.InlineOverlay(!1)},3100),e.find("*[data-widget-type=module-message-alert]").fadeIn(300).delay(2500).fadeOut(300)},t.ResendCode=function(e){t.InlineOverlay(!0),setTimeout(function(){t.InlineOverlay(!1)},3100),e.find("*[data-widget-type=module-message-alert]").fadeIn(300).delay(2500).fadeOut(300)},t.EnableAutoAccept=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.EnableAutoAcceptComplete(e)},2500)},t.EnableAutoAcceptComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DisableAutoAccept=function(e){e.find(".inline-processing").show(0),setTimeout(function(){t.DisableAutoAcceptComplete(e)},2500)},t.DisableAutoAcceptComplete=function(e){console.log(e),e.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),console.log("aher"),e.find("*[data-widget-property=pre]").fadeIn(300),e.find("*[data-widget-property=replaced-by-prompt]").fadeIn(300),e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400)},300)},t.DeleteSetting=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DeleteSettingComplete(e)},2500)},t.DeleteSettingComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DirectDeposit=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DirectDepositComplete(e)},2500)},t.DirectDepositComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DisableLowBalanceAlerts=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DisableLowBalanceAlertsComplete(e)},2500)},t.DisableLowBalanceAlertsComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DisableScheduleAlerts=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DisableScheduleAlertsComplete(e)},2500)},t.DisableScheduleAlertsComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.EnableATMWithdrawals=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.EnableATMWithdrawalsComplete(e)},2500)},t.EnableATMWithdrawalsComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DisableATMWithdrawals=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DisableATMWithdrawalsComplete(e)},2500)},t.DisableATMWithdrawalsComplete=function(e){e.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=pre]").fadeIn(300),e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400)},300)},t.EnableSMSNotifications=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.EnableSMSNotificationsComplete(e)},2500)},t.EnableSMSNotificationsComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DisableSMSNotifications=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DisableSMSNotificationsComplete(e)},2500)},t.DisableSMSNotificationsComplete=function(e){e.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=pre]").fadeIn(300),e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400)},300)},t.EnableSettingsChangedNotifications=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.EnableSettingsChangedNotificationsComplete(e)},2500)},t.EnableSettingsChangedNotificationsComplete=function(e){e.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=post]").fadeIn(300)},300)},t.DisableSettingsChangedNotifications=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DisableSettingsChangedNotificationsComplete(e)},2500)},t.DisableSettingsChangedNotificationsComplete=function(e){e.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=pre]").fadeIn(300),e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400)},300)},t.DisableCloseAccount=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.DisableCloseAccountComplete(e)},2500)},t.DisableCloseAccountComplete=function(e){e.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){t.InlineOverlay(!1),e.find(".inline-processing").hide(),e.find("*[data-widget-property=pre]").fadeIn(300),e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400)},300)},t.pauseReserve=function(e){function t(e){var t=e.find("[data-widget-property=status]");e.find("[data-widget-property=active-state]").addClass("inactive"),e.find("[data-widget-property=paused-state]").removeClass("inactive"),e.find("[data-widget-name=reserve-pause]").fadeOut(300),t.fadeOut(300),setTimeout(function(){t.text("Paused").fadeIn(300)},300)}e.find(".inline-processing").show(0),setTimeout(function(){t(e)},2500)},t.InlineOverlay=function(t){t?e(".inline-overlay").css("display","block"):e(".inline-overlay").css("display","none")},t.GameChange=function(e){t.InlineOverlay(!0),e.find(".inline-processing").show(0),setTimeout(function(){t.GameChangeComplete(e)},2500)},t.GameChangeComplete=function(a){var i=e("*[data-widget-type=inline-actionable][data-property-primary=true]"),n=i.attr("data-property-title"),o=a.attr("data-property-title");i.fadeOut(300),a.fadeOut(300),setTimeout(function(){i.find("*[data-widget-property=title]").text(o),i.find("*[data-widget-property=thumb]").removeClass(n.toLowerCase()).addClass(o.toLowerCase()),i.find("*[data-widget-property=switch-btn]").text("Switch to "+o),a.find("*[data-widget-property=title]").text(n),a.find("*[data-widget-property=thumb]").removeClass(o.toLowerCase()).addClass(n.toLowerCase()),a.find("*[data-widget-property=switch-btn]").text("Switch to "+n),i.attr("data-property-title",o),a.attr("data-property-title",n)},300),setTimeout(function(){a.find(".prompt-revealed").removeClass("prompt-revealed"),a.find(".prompt-box").removeClass("active").hide(0),a.find("*[data-widget-property=replaced-by-prompt]").addClass("active").show(),a.find(".inline-processing").hide(),setTimeout(function(){t.InlineOverlay(!1),a.fadeIn(300)},200),i.fadeIn(300)},400)}},i.DateFilter=new function(){var a=this,i,n=[],o=!0,r=!1,d=["",""],s=null,l,c=0;a.init=function(t){if(i=t,o=a.getDateCapabilities(),l=!0,n=i.find("[data-widget-property=date-input]"),o)for(var r=0;r<n.length;r++)try{n[r].type="date"}catch(d){}else n.datepicker({minDate:"0",yearRange:"0:+10",onClose:a.pickerCloseHandler});a.attachHandlers(),e("[data-widget-property=input-container]").each(function(){var t=e(this).find("input"),i=e(this).find("label");i.find("span").attr("data-text",i.find("span").text()),inputVal=e.trim(t.val()),inputVal&&i.hide(),t.focus(function(){if(s!==t[0]&&(s=t[0],e.trim(t.val())||i.find("span").text(""),!o)){var a=t[0]===n[0]?"maxDate":"minDate",r=null;r="maxDate"==a?e.trim(n[1].value)?n[1].value:null:e.trim(n[0].value)?n[0].value:0,t.datepicker("option",a,r)}}),t.blur(function(){var n=!!e.datepicker._lastInput&&e.datepicker._lastInput===t[0];n||(s=null),setTimeout(function(){a.placeholderHandler(t,i)},200)})})},a.getDateCapabilities=function(){return t.testTouch()},a.attachHandlers=function(){n.keyup(a.keyHandler),i.find("[data-widget-property=filter-open]").click(a.openFilters),i.find("[data-widget-property=filter-close]").click(a.closeFilters),i.find("[data-widget-property=filter-apply]").click(a.applyFilters),i.find("[data-widget-property=filter-reset]").click(a.resetFilters),i.find("[data-widget-property=filter-clear]").click(a.clearFilters)},a.keyHandler=function(e){13===e.keyCode&&a.dateValidate()},a.openFilters=function(){l=!0,d[0]&&o&&(n[0].value=d[0]),d[1]&&o&&(n[1].value=d[1]),a.placeholderHandler(e(n[0]),e(n[0]).closest("[data-widget-property=input-container]").find("label")),a.placeholderHandler(e(n[1]),e(n[1]).closest("[data-widget-property=input-container]").find("label")),e("[data-widget-property=date-filter-closed]").fadeOut(300,function(){e("[data-widget-property=date-filter-open]").fadeIn(300).css("display","inline-block")}),e("[data-widget-property=filter-result-count]").fadeOut(300)},a.closeFilters=function(){s=null,e("[data-widget-property=filter-text]").text(r?new Date(d[0]+"T12:00").toMMDDYYYYString()+" - "+new Date(d[1]+"T12:00").toMMDDYYYYString():"Filter By Date"),e("[data-widget-property=date-filter-open]").fadeOut(300,function(){e("[data-widget-property=date-filter-closed]").fadeIn(300),r&&e("[data-widget-property=filter-result-count]").fadeIn(300)
})},a.applyFilters=function(){e(this).hasClass("disabled")||applyingFiltersProcessing||(applyingFiltersProcessing=r=!0,a.processFilters(),d=[n[0].value,n[1].value])},a.clearFilters=function(){e("[data-widget-property=input-container]").each(function(){var t=e(this).find("input"),a=e(this).find("label");t.val(""),a.find("span").text(a.find("span").attr("data-text"))}),e("[data-widget-property=filter-result-count]").fadeOut(300),r=!1,d=["",""],a.processFilters(),e("[data-widget-property=filter-text]").text("Filter By Date")},a.resetFilters=function(){e("[data-widget-property=input-container]").each(function(){var t=e(this).find("input"),a=e(this).find("label");t.val(""),a.find("span").text(a.find("span").attr("data-text"))}),r&&(l=!1,a.processFilters(),d=["",""],r=!1)},a.placeholderHandler=function(t,i){var n=!!e.datepicker._lastInput&&e.datepicker._lastInput===t[0];a.dateValidate(),e.trim(t.val())?i.find("span").text(""):n||t[0]==s||i.find("span").text(i.find("span").attr("data-text"))},a.dateValidate=function(){var t=0;n.each(function(){""==this.value?a.removeError(e(this)):"date"!=this.type&&!/[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4}/.test(this.value)||isNaN(new Date(this.value).getTime())?(c=0,a.triggerError(e(this),"Please enter a valid date")):(t++,a.removeError(e(this)))}),2==t?e("[data-widget-property=filter-apply]").removeClass("disabled"):e("[data-widget-property=filter-apply]").addClass("disabled")},a.processFilters=function(){loadMoreEnabled=!1,Springboard.Widget.ProcessingOverlay.fullscreen(!1),Springboard.Widget.ProcessingOverlay.show(),SA.FilterRequest(a.PROTO_changeItems,n[0],n[1])},a.applyFiltersComplete=function(){Springboard.Widget.ProcessingOverlay.hide(Springboard.Widget.ProcessingOverlay.fullscreen),r&&e("[data-widget-property=filter-result-count]").fadeIn(300),loadMoreEnabled=!r,applyingFiltersProcessing=!1,l&&a.closeFilters()},a.pickerCloseHandler=function(){var t=e(this),i=e(this).closest("[data-widget-property=input-container]").find("label");setTimeout(function(){a.placeholderHandler(t,i)},200)},a.triggerError=function(t,a){t.addClass("error"),t.parent().find(".contextual-error").text(a).show(0),e(".sb-filters .grid-row").addClass("error-state"),c++},a.removeError=function(t){t.removeClass("error"),t.parent().find(".contextual-error").hide(0),c--,0>c&&e(".sb-filters .grid-row").removeClass("error-state")},a.PROTO_changeItems=function(e){a.applyFiltersComplete()}},i.EnhancedRadio=new function(){this.init=function(t){var a,i=t,n=i.attr("id"),o='<div class = "form-radio" />';a=i[0].checked?'<div class = "cover active" />':'<div class = "cover" />',i.wrap(o),i.parent(".form-radio").append(a),e('label[for="'+n+'"]').appendTo(i.parent(".form-radio"))},this.change=function(t){var a=e(this),i=a.attr("name"),n="[name="+i+"]";e(n).siblings(".cover").removeClass("active"),a.siblings(".cover").toggleClass("active")}},i.EnhancedCheckbox=new function(){this.init=function(e){var t,a=e,i='<div class = "form-checkbox" />';t=a.is(":checked")?'<div class = "cover active" />':'<div class = "cover" />',a.wrap(i),a.parent(".form-checkbox").append(t)},this.change=function(t){e(this).siblings(".cover").toggleClass("active")}},i.EnhancedSelect=new function(){this.Simple=new function(){this.init=function(t){var a,i,n,o,r,d=t;r=d.siblings(".placeholder").html(),d.find("option").each(function(t,i){o=e(this),void 0!=r&&r.length>0?(a=r,d.prepend('<option value data-select-placeholder = "null"></option>'),d.val("")):o.attr("selected")&&(a=o.text())}),d.addClass("widget-active"),i='<div class="t-body-bold filter-value"><div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+a+"</div></div></div>",n=d.parent().append(i)},this.click=function(){var t,a,i=e(this),n=e(this).val(),t=i.find("option[value='"+n+"']").text(),o=void 0!=t&&t.length>0?t:n;a='<div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+o+"</div></div>",i.siblings(".filter-value").html(a)}},this.Card=new function(){this.init=function(t){var a,i,n,o,r,d,s,l,c=t;c.find("option").each(function(t){r=e(this),r.attr("selected")&&(a=r.text(),d=void 0!=r.attr("data-payment-class")?r.attr("data-payment-class"):"none")}),c.addClass("widget-active"),n='<div class="t-body-bold filter-value"><div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+a+"</div></div></div>",o=t.parent().append(n),c.attr("value",a),s=c.closest(".filter-item").siblings(".payment-fineprint"),s.length>0&&(s.find("[data-smallprint-for]").removeClass("active"),s.find("[data-smallprint-for="+d+"]").addClass("active"))},this.click=function(){var t,a,i,n,o,r=e(this);r.find("option").each(function(i){a=e(this),a[0].selected&&(activeValue=a.text(),t=void 0!=a.attr("data-card-type")?a.attr("data-card-type"):"none",paymentClass=void 0!=a.attr("data-payment-class")?a.attr("data-payment-class"):"none")}),o='<div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+activeValue+"</div></div>",r.siblings(".filter-value").html(o),n=r.closest(".filter-item").siblings(".payment-fineprint"),n.length>0&&(n.find("[data-smallprint-for]").removeClass("active"),n.find("[data-smallprint-for="+paymentClass+"]").addClass("active"))}},this.State=new function(){this.init=function(t){var a,i,n,o,r,d,s,l,c=t;c.find("option").each(function(t){r=e(this),r.attr("selected")&&(a=r.text(),i=void 0!=r.attr("data-card-type")?r.attr("data-card-type"):"none",d=void 0!=r.attr("data-payment-class")?r.attr("data-payment-class"):"none")}),c.addClass("widget-active"),n='<div class="t-body-bold filter-value"><div class = "picker-icon"></div><div class= "filter-text '+i+'"><div class = "account-icon"></div><div class = "filter-text-inner">'+a+"</div></div></div>",o=t.parent().append(n),c.attr("value",a),s=c.closest(".filter-item").siblings(".payment-fineprint"),s.length>0&&(s.find("[data-smallprint-for]").removeClass("active"),s.find("[data-smallprint-for="+d+"]").addClass("active"))},this.click=function(){var t,a,i,n,o,r=e(this);r.find("option").each(function(i){a=e(this),a[0].selected&&(activeValue=a.val().length>0?a.val():a.html(),t=void 0!=a.attr("data-card-type")?a.attr("data-card-type"):"none",paymentClass=void 0!=a.attr("data-payment-class")?a.attr("data-payment-class"):"none")});var i=e(this).val(),d=r.find("option[value='"+i+"']").text(),s=void 0!=d&&d.length>0?d:i;o='<div class = "picker-icon"></div><div class= "filter-text '+t+'"><div class = "account-icon"></div><div class = "filter-text-inner">'+s+"</div></div>",r.siblings(".filter-value").html(o),n=r.closest(".filter-item").siblings(".payment-fineprint"),n.length>0&&(n.find("[data-smallprint-for]").removeClass("active"),n.find("[data-smallprint-for="+paymentClass+"]").addClass("active"))}}},i.FocusReveal=new function(){this.init=function(t){var a=t,i=a.attr("data-focus-reveal-target"),n=e(i);n&&(n.css("display","none"),a.on("focus",function(){n.slideDown("fast",function(){n.css("overflow","visible")})}))}},i.ToolTip=new function(){this.click=function(t){var i,n,o,r,d,s,l,c,p,f,u,o,r,h,m,v,g,w=e(this),c=w.find("[data-action-role=tooltip-body]").attr("data-action-state"),y=e(t.target);t.stopPropagation(),a(t),"open"!=c?(s=w.attr("data-widget-name"),l=e("*[data-action-role = 'tooltip-body'][data-widget-name = '"+s+"']"),c=l.attr("data-action-state"),w.removeClass("left"),l.find(".tooltip-body").removeAttr("css"),p=w.offset(),f=p.left+8,u=e(window).width(),o=e(window).height(),r=p.top-e("body").scrollTop(),g=navigator.userAgent.indexOf("IEMobile")>=0?!0:!1,h=parseInt(l.find(".tooltip-body").css("width"),10),m=e("html").attr("data-current-breakpoint"),("large"===m||"xlarge"===m||"medium"===m)&&u/2>f&&w.addClass("left"),h-f>20&&(i=f+h>u-20?f-u+30:f-h-8,l.find(".tooltip-body").css("right",i)),"animation"===l.attr("data-open-by")?l.slideToggle(300,function(){w.attr("data-action-state","open")}):l.attr("data-action-state","open"),l.attr("aria-hidden","false"),g||(n=l.find(".tooltip-body").height()+30,n>o-r&&(v=p.top-o+n+60,e("html, body").animate({scrollTop:v},600)))):a(t)}},i.CardSelection=new function(){this.click=function(t){t.preventDefault();var a=e(this);a.siblings().removeClass("active").addClass("inactive"),a.removeClass("inactive").addClass("active")}},i.CardTypeReveal=new function(){var t={};this.init=function(a){t.cardChangeBlock=e("*[data-widget-type=cards-list]")},this.keyup=function(a){var i=e(this),n=t.cardChangeBlock,o=i.val(),r=o.slice(0,4),d;d="4"===r.slice(0,1)?"visa":"51"===r.slice(0,2)||"55"===r.slice(0,2)?"mc":"34"===r.slice(0,2)||"37"===r.slice(0,2)?"amex":"6011"===r||"65"===r.slice(0,2)?"discover":o.length>4?"fail":"none",n.find("*[data-card-type]").each(function(){var t=e(this).attr("data-card-type");"fail"!=d?t!=d&&"none"!=d?e(this).addClass("inactive"):e(this).removeClass("inactive"):e(this).addClass("inactive")})}},i.Dismissable=new function(){function e(){ajaxCall("as")}var t=this;t.init=function(e){var t=e,a=t.find(".close-btn");a.on("click",function(){t.fadeOut(400),ajaxCall()})}},i.ActionPrompt=new function(){this.init=function(t){var a=t,i=a.attr("data-widget-name"),n=e("*[data-widget-type=action-prompt-target][data-widget-name="+i+"]");cancelBtn=n.find("*[data-widget-action=cancel]").filter(function(){return n[0]===e(this).closest("*[data-widget-type=action-prompt-target]")[0]});var o=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle";"fadeoutfadein"===o?cancelBtn.on("click",function(){originalSection=a.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),a.removeClass("prompt-revealed"),n.fadeOut(300,function(){originalSection.fadeIn(300)})}):cancelBtn.on("click",function(){e("*[data-widget-type=action-prompt][data-widget-name="+i+"]").removeClass("prompt-revealed"),n.length>0&&n.fadeOut(300,function(){e(this).removeClass("active")})})},this.reveal=function(t){var a,i=e(this),n=i.attr("data-widget-name"),o=void 0!=i.attr("data-transition-type")?i.attr("data-transition-type"):"toggle",r=e("[data-widget-type=action-prompt-target][data-widget-name="+n+"]"),d=i.closest(".funding-source-inner"),s=i.closest("*[data-widget-type=inline-actionable]").find("[data-widget-type=action-prompt-target].active");if(i.hasClass("prompt-revealed")?i.removeClass("prompt-revealed"):i.addClass("prompt-revealed"),"fadeoutfadein"===o)a=i.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),a.fadeOut(300,function(){r.fadeIn(300)});else if(s.length>0){var l=s.attr("data-widget-name"),c=r.attr("data-widget-name");e("[data-widget-type=action-prompt][data-widget-name="+l+"]").removeClass("prompt-revealed"),s.fadeOut(300,function(){r.fadeIn(300,function(){e(this).addClass("active"),e("[data-widget-type=action-prompt][data-widget-name="+c+"]").addClass("prompt-revealed"),e(this).css("overflow","")}),e(this).removeClass("active")})}else r.fadeIn(300,function(){e(this).addClass("active"),e(this).css("overflow","")})}},i.MpActionPrompt=new function(){this.init=function(t){var a=t,i=a.attr("data-widget-name"),n=e("*[data-widget-type=mp-action-prompt-target][data-widget-name="+i+"]");cancelBtn=n.find("*[data-widget-action=cancel]").filter(function(){return n[0]===e(this).closest("*[data-widget-type=mp-action-prompt-target]")[0]});var o=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle";"fadeoutfadein"===o?cancelBtn.on("click",function(){originalSection=a.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),a.removeClass("prompt-revealed"),n.fadeOut(300,function(){originalSection.fadeIn(300)})}):cancelBtn.on("click",function(){e("*[data-widget-type=mp-action-prompt][data-widget-name="+i+"]").removeClass("prompt-revealed"),n.length>0&&(e(this).closest(".payee-container").animate({backgroundColor:"transparent"},300),e(this).closest(".payee-container").siblings(".ruleset.with-or").fadeTo(300,1),n.fadeOut(300,function(){e(this).removeClass("active")}))})},this.reveal=function(t){var a,i=e(this),n=i.attr("data-widget-name"),o=void 0!=i.attr("data-transition-type")?i.attr("data-transition-type"):"toggle",r=e("[data-widget-type=mp-action-prompt-target][data-widget-name="+n+"]"),d=i.closest(".funding-source-inner"),s=i.closest(".payee-container").find("[data-widget-type=mp-action-prompt-target].active"),l=i.closest(".payee-container");if(i.hasClass("prompt-revealed")?i.removeClass("prompt-revealed"):i.addClass("prompt-revealed"),"fadeoutfadein"===o)a=i.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),a.fadeOut(300,function(){r.fadeIn(300)});else if(s.length>0){var c=s.attr("data-widget-name"),p=r.attr("data-widget-name");e("[data-widget-type=mp-action-prompt][data-widget-name="+c+"]").removeClass("prompt-revealed"),s.fadeOut(300,function(){r.fadeIn(300,function(){e(this).addClass("active"),e("[data-widget-type=mp-action-prompt][data-widget-name="+p+"]").addClass("prompt-revealed"),e(this).css("overflow","")}),e(this).removeClass("active")})}else l.animate({backgroundColor:"#F6F6F6"},300),l.next(".ruleset.with-or").fadeTo(300,.01),l.prev(".ruleset.with-or").fadeTo(300,.01),r.fadeIn(300,function(){e(this).addClass("active"),e(this).css("overflow","")})}},i.RadioClear=new function(){this.change=function(t){var a,i,n=e(this),o=n.attr("data-widget-name"),r=e('*[data-widget-type=section-to-clear][data-widget-name="'+o+'"]'),d;r.find("input").each(function(){a=e(this),a.val("").removeClass("prefill"),a.removeClass("error"),a.siblings(".contextual-error").removeClass("active")}),r.find("select").each(function(){i=e(this),i.find("option[selected]").removeAttr("selected"),d=i.find("option:first"),d.attr("selected","selected"),i.siblings(".filter-value").find(".filter-text-inner").html(d.html()),i.siblings(".contextual-error").removeClass("active")}),r.find(".card-balance").remove()}},i.RadioHide=new function(){this.change=function(t){var a=e(this).attr("data-widget-name"),i=e('*[data-widget-type=section-to-hide][data-widget-name="'+a+'"]');i.toggleClass("hide-height")}},i.RadioExpandAnimate=new function(){this.init=function(t){var a=t,i=a.find("[data-widget-role=open]"),n=a.find("[data-widget-role=close]"),o=t.attr("data-widget-name"),r=e('[data-action-role=action-target][data-widget-name="'+o+'"]');i.on("change",function(){r.slideToggle(300)}),n.on("change",function(){r.slideToggle(300)})}},i.Contacts=new function(){function t(){e("*[data-action-role=tooltip-body]").css("display","none"),e("input[data-widget-type=contact-field]").removeAttr("disabled")}this.open=function(a){var i,n,o,r,d,s,l=e(this).attr("data-widget-name"),c=e("*[data-action-role = 'tooltip-body'][data-widget-name = '"+l+"']"),p=c.find(".close-btn"),o=e(window).height();a.preventDefault(),a.stopPropagation(),p.off("click"),p.one("click",t),e("input[data-widget-type=contact-field]").attr("disabled","disabled"),c.css("display","block")},this.delegateClick=function(a){var i=e(a).attr("data-widget-name"),n=e("*[data-action-role = 'tooltip-body'][data-widget-name = '"+i+"']"),o=e("input[data-widget-type=contact-field][data-widget-name = '"+i+"']");n.delegate("input[type=checkbox]","change",function(){var a;o.removeAttr("disabled"),e("input[type=checkbox]").not(this).attr("checked",!1).siblings(".cover").removeClass("active"),a=e(this).closest(".check").siblings("label").html(),o.val(e.trim(a)),t(this),o.removeAttr("disabled")})}},i.MessageFades=new function(){this.init=function(e){window.setTimeout(function(){e.animate({opacity:0},800,function(){e.animate({height:0,padding:0,margin:0},800,function(){e.remove()})})},3e3)}},i.AccordionReveal=new function(){this.focus=function(t){var a,i=e(this).attr("data-widget-name");void 0!=i&&(a=e("*[data-widget-type=reveal-accordion-target][data-widget-name="+i+"]"),(void 0===a||void 0===a.attr("data-accordion-state")||"open"!=a.attr("data-accordion-state"))&&(e("*[data-widget-type=reveal-accordion-target][data-accordion-state=open]").attr("data-accordion-state","closed").slideToggle(300),a.slideToggle(300).attr("data-accordion-state","open")))},this.change=function(t){var a,i=e(this).attr("data-widget-name");void 0!=i&&(a=e("*[data-widget-type=reveal-accordion-target][data-widget-name="+i+"]"),"open"!=a.attr("data-accordion-state")&&(e("*[data-widget-type=reveal-accordion-target][data-accordion-state=open]").attr("data-accordion-state","closed").slideToggle(300),a.slideToggle(300).attr("data-accordion-state","open")))}},i.DollarInput=new function(){this.focus=function(t){var a=e(this),i=a.val();"$"!=i.substr(0,1)&&a.val("$"+i)},this.blur=function(t){var a=e(this),i=a.val();1===i.length&&a.val("")},this.keyup=function(t){var a=e(this),i=a.val();i.indexOf("$")<0&&a.val("$"+i)}},i.BankAccountHelper=new function(){this.init=function(t){e("input[data-widget-type=check-helper-acct-field]").focus(function(){var t=e("html").attr("data-current-breakpoint");("xlarge"===t||"large"===t)&&e(".check-image-highlight").removeClass("hide routing").addClass("acct")}),e("input[data-widget-type=check-helper-acct-field]").blur(function(){var t=e("html").attr("data-current-breakpoint");("xlarge"===t||"large"===t)&&e(".check-image-highlight").removeClass("acct routing").addClass("hide")}),e("input[data-widget-type=check-helper-routing-field]").focus(function(){var t=e("html").attr("data-current-breakpoint");("xlarge"===t||"large"===t)&&e(".check-image-highlight").removeClass("hide acct").addClass("routing")}),e("input[data-widget-type=check-helper-routing-field]").blur(function(){var t=e("html").attr("data-current-breakpoint");("xlarge"===t||"large"===t)&&e(".check-image-highlight").removeClass("acct routing").addClass("hide")})}},i.HelpBubble=new function(){this.hide=function(t){var a=e("html").attr("data-current-breakpoint");"medium"!=a&&"small"!=a&&e("#bubble").removeClass("active")},this.reveal=function(t){var a,i,n,o,r,d,s,l,c,p,f,u=e("html").attr("data-current-breakpoint");"medium"!=u&&"small"!=u&&(a=e(this),f=e("#bubble"),i=a.closest(".input-fieldset"),n=void 0!=i.attr("data-help-section")?i.attr("data-help-section"):"general",o=i.position().top,parentHalfHeight=i.height()/2,c=i.find(".contextual-help").html(),p="clear-help"===e(this).attr("data-widget-property")?!0:!1,void 0!=c&&c.length>0&&!p?(f.attr("data-current-section",n),f.find(".bubble-text").html(c),s=o+parentHalfHeight-f.find(".bubble-container").height()/2-7,f.hasClass("active")||!f.hasClass("first")?(f.addClass("active"),f.animate({top:s},400)):(f.css("top",s),f.addClass("active")),f.removeClass("first")):f.addClass("first"))}},i.SegAccts=new function(){function a(t,a){var i,n,o,r=void 0!==a?a:e(this),d=r.closest("[data-transaction-id]"),s=d.attr("data-transaction-id"),l=r.attr("data-widget-name"),c=e('[data-transaction-id="'+s+'"]'),p=this.outDelay,f=this.inDelay;t&&(t.preventDefault(),t.stopPropagation()),r.hasClass("prompt-revealed")?(i=d.find("[data-widget-property=replaced-by-prompt]"),n=d.find('[data-widget-type=action-prompt-target][data-widget-name="'+l+'"]'),r.removeClass("prompt-revealed")):(i=d.find('[data-widget-type=action-prompt-target][data-widget-name="'+l+'"]'),o=d.find(".active.prompt-box"),o.length>0?n=o:(n=d.find("[data-widget-property=replaced-by-prompt]"),p=0),r.addClass("prompt-revealed")),n.fadeOut(p,function(){i.fadeIn(f,function(){i.addClass("active")}),n.removeClass("active")})}this.click=function(i){function n(){a(i,o)}var o=e(this);t.Async.ajaxCall(e(this),null,"/Master/lib/ajax/true_result.json",n)}},i.DynamicFrequency=new function(){this.init=function(t){function a(){var e,t,a,o,d=r.val().length>0?!0:!1,u=l.val().length>0?!0:!1;if(e=r.val(),f.length>0&&f.is(":checked")&&d)c.addClass("inactive"),p.removeClass("inactive"),o=e+" will be transferred one time.",p.html(o);else if(d&&u){switch(dateValues=n(l.val()),t=i(s),frequencyText=t.label,frequencyType=t.frequencyType){case"daily":o=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every day thereafter.  You can edit this any time.";break;case"weekly":o=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every "+dateValues.thisDay+" thereafter.  You can edit this any time.";break;case"biweekly":o=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every other "+dateValues.thisDay+" thereafter.  You can edit this any time.";break;case"monthly":o=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every "+dateValues.thisOrdinal+" day of the month thereafter.  You can edit this any time.";break;default:o=!1}o&&(p.addClass("inactive"),c.removeClass("inactive"),c.html(o))}else p.addClass("inactive"),c.addClass("inactive")}function i(t){var a,i,n;return e(t).each(function(){e(this).is(":checked")&&(i=e(this),a=i.siblings("label").html().toLowerCase(),n=i.attr("data-frequency"))}),{label:a,frequencyType:n}}function n(e){var t=new Date(e),a=e,i=t.getDate(),n=[null,"1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th","21st","22nd","23rd","24th","25th","26th","27th","28th","29th","30th","31th"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=o[t.getUTCDay()],d=n[i];return{value:a,dayOfWeek:i,thisDay:r,thisOrdinal:d}}var o=t,r=t.find("[data-widget-role=amount-field]"),d=t.find("[name=recurrence]"),s=t.find("[name=frequencyOption]"),l=t.find("[data-widget-property=date-input]"),c=t.find("[data-widget-role=recurring-statement]"),p=t.find("[data-widget-role=recurring-statement-once]"),f=t.find("#OneTime");r.on("blur",function(){a()}),d.on("change",function(){a()}),s.on("change",function(){a()}),l.on("change",function(){a()})}},i.EditNameInline=new function(){this.init=function(a){function i(){c.val(s.text()),d.fadeOut(0),l.fadeIn(300)}function n(){l.fadeOut(0),d.fadeIn(300)}function o(e){e&&n()}var r=a,d=a.find("[data-widget-property=view-state]"),s=d.find("[data-widget-property=view-field]"),l=a.find("[data-widget-property=edit-state]"),c=l.find("[data-widget-property=edit-field]"),p=a.find("[data-widget-role=edit-btn]"),f=a.find("[data-widget-role=save-btn]"),u=a.find("[data-widget-role=cancel-btn]");p.on("click",i),u.on("click",n),f.on("click",function(){t.Async.ajaxCall(e(this),r,"/Master/lib/ajax/true_result.json",o)})}},i.ToggleField=new function(){this.change=function(){var t=e(this),a=t.attr("data-widget-name"),i=e("input[data-widget-property=date-input][data-widget-name="+a+"]"),n=t.prop("checked"),o=i.siblings("label"),r=o.find("span");n?(i.addClass("inactive").attr("disabled","disabled").val(""),o.addClass("inactive"),r.text(r.attr("data-text"))):(i.removeClass("inactive").removeAttr("disabled").val(""),i.siblings("label").removeClass("inactive"))}},i.enhanceLink=function(t){var a,i=t,n=i.find("a[data-widget-role=link-target]");n.length>0&&(a=n.attr("href"),a.length>0&&e(i).on("click",function(){window.open(a,"_blank")}))},i.AddAnotherFile=new function(){var t=this;t.init=function(t){var a=t.attr("data-widget-name"),i=e("[data-widget-role=fileTable][data-widget-name="+a+"]"),n=e("[data-widget-role=addBox][data-widget-name="+a+"]"),o=t.find("input[type=button]");o.on("click",function(e){t.remove(),i.addClass("has-add-another"),n.removeClass("inactive")})}},i.FileUpload=new function(){var a=this;a.test=function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.type="file",!e.disabled},a.init=function(i){if(a.test()){var n=i.attr("data-widget-name"),o=i,r=e("[data-widget-role=fileUploadTarget][data-widget-name="+n+"]"),d=e("[data-widget-role=fileReset][data-widget-name="+n+"]"),s=e(r).siblings(".item"),l=e('[data-widget-role="fileSubmit"]');e(".no-file-upload-support").css("display","none"),e(".yes-file-upload-support").css("display","block"),r.length>0&&(i.on("click",function(e){r.click()}),r.on("change",function(e){var t=r[0].value,a=t.split("\\").pop();s.html(a),r.addClass("destroy"),o.addClass("destroy"),d.removeClass("inactive"),t?l.prop("disabled",!1):l.prop("disabled",!0)}),d.on("click",function(a){var n="<input type='file' class = 'fileUpload' data-widget-role='fileUploadTarget' data-widget-name = 'file-upload' />";r.remove(),e(n).insertAfter(o),o.removeClass("destroy"),d.addClass("inactive"),l.prop("disabled",!0),s.html(""),i.unbind(),r.unbind(),d.unbind(),t.Widget.FileUpload.init(o)}))}}},i.ReferEmails=new function(){function t(e){var t=e.find("input").length;return t}var a=this;a.init=function(a){var i,n=12,o=4,r=a,d=r.find("[data-widget-type=add-link]"),s=d.closest(".help-link"),l="<div><input type = 'text' placeholder = 'Email (Optional)' aria-required = 'true' tabindex = '3'/><div class = 'contextual-error' role = 'alert' aria-live = 'polite'>[Error State]</div></div>";d.on("click",function(a){var c=0,p,f;if(a.preventDefault(),i=t(r),console.log(i),n>i){for(;3!=c;)p=0===c?"data-role = 'insert'":"",l=e("<div><input type = 'text'"+p+"placeholder = 'Email (Optional)' aria-required = 'true' tabindex = '"+o+"'/><div class = 'contextual-error' role = 'alert' aria-live = 'polite'>[Error State]</div></div>"),l.insertBefore(s),d.attr("tabindex",o+1),o++,c++;e("button").attr("tabindex",parseInt(e("button").attr("tabindex"))+3),f=e("[data-role=insert]").filter(":last"),f.focus(),e("html, body").animate({scrollTop:f.offset().top-40},300)}else d.remove()})}},i.replaceLinkWithConfirm=new function(){this.resend=function(){setTimeout(function(){i.replaceLinkWithConfirm.confirm()},1e3)},this.confirm=function(){var t=e(".email-resend-link"),a=e(".email-resend-link").attr("data-confirm-msg");t.fadeOut("fast",function(){t.html(a),t.fadeIn("fast")})}},i.ClearPrefill=new function(){this.init=function(e){e.attr("data-starting-value",e.val())},this.keyup=function(){var t=e(this),a=t.attr("data-starting-value");void 0!==typeof a&&""!=a&&t.val()!=a&&(t.removeClass("prefill"),t.off("keyup",t.keyup))}},i.PageView=new function(){var t=this,a=!1;t.init=function(e){var a=e,i=a.attr("data-widget-name");t.refresh(!1)},t.change=function(a){var i=e(this),n=i.attr("data-widget-name");t.refresh(!0)},t.refresh=function(t){var a=e("*[data-widget-type=page-view-control]:checked").attr("data-widget-name");t?(e("*[data-widget-type=page-view]").fadeOut(300).css("overflow","visible"),setTimeout(function(){e("*[data-widget-type=page-view][data-widget-name="+a+"]").fadeIn(300).css("overflow","visible")},300)):(e("*[data-widget-type=page-view]").hide(0).css("overflow","visible"),e("*[data-widget-type=page-view][data-widget-name="+a+"]").show(0).css("overflow","visible"))}},i.LoadMore=new function(){var t=this,a="<a href='#'><div class = 'search-result saved'><div class = 'search-result-content'><div class = 'payee-name has-caret'>Loaded Result</div></div></div></a>";t.click=function(a){a.preventDefault();var i=e(this),n=i.closest("*[data-widget-type=load-more-container]");i.find(".payee-name").addClass("inline-loading"),setTimeout(function(){t.LoadComplete(i,n)},2500)},t.LoadComplete=function(t,i){t.find(".payee-name").removeClass("inline-loading");for(var n=0;5>n;n++)t.before(e(a))}},i.DeletePayee=new function(){var t=this;t.init=function(e){e.find("*[data-property-action=delete]").click(t.click)},t.click=function(a){var i=e(this),n=i.closest("*[data-widget-type=delete-payee-container]");e(".global-notice.processing").fadeIn(300),e(".global-overlay").fadeIn(300),setTimeout(function(){t.DeleteComplete(n)},2500)},t.DeleteComplete=function(t){e(".global-notice.processing").fadeOut(300),e(".global-overlay").fadeOut(300),setTimeout(function(){t.find("*[data-widget-type=module-message-overlay]").fadeIn(300),t.find("*[data-widget-type=module-message-alert]").fadeIn(300)},500),setTimeout(function(){window.location.href="index.php?key=flow-bill-pay&screen=my-payees-empty"},2500)}},i.ProcessingOverlay=new function(){var t=this,a=null,n=null,o=null;t.init=function(t){a=t,n=t.find(".global-overlay"),o=t.find(".global-notice.processing"),e("body").css("position","relative")},t.show=function(e,t){void 0===e&&(e=!0),n.fadeTo(300,.5,function(){t&&t.call()}),e&&o.fadeIn(300),i.BackToTop&&i.BackToTop.forceHidden(!0)},t.hide=function(e){n.fadeOut(300,function(){e&&e.call(),i.BackToTop&&i.BackToTop.forceHidden(!1)}),o.fadeOut(300)},t.fullscreen=function(t){void 0===t&&(t=!0),t?(a.closest("#page-content").css("position",""),void 0===o.attr("data-pos-top")?o.css("top",30):(o.attr("data-pos-top",30),o.attr("data-pos-type","static"))):(e("body").css("position",""),a.closest("#page-content").css("position","relative"),void 0===o.attr("data-pos-top")?o.css("top",30):(o.css({"margin-top":0,top:0}),o.attr("data-pos-top",30),o.attr("data-pos-type","static")))}},i.LoadMoreTransaction=new function(){var t=this,a="";t.click=function(i){a=e(this).prev().clone().wrap("<p>").parent().html(),i.preventDefault();var n=e(this),o=n.closest("*[data-widget-type=load-more-container]");n.find(".payee-name").addClass("inline-loading"),setTimeout(function(){t.LoadComplete(n,o)},2500)},t.LoadComplete=function(t,i){t.find(".payee-name").removeClass("inline-loading");for(var n=0;5>n;n++)t.before(e(a))}},i.PrintForm=new function(){var t=this,a;t.init=function(t){a=t,a.find(".cover").each(function(t){0===t?e(this).append('<img class="radio-deselected" src="Images/dd/radio-selected.png" width="30" alt="">').next().on("click",function(){e(this).prev().html('<img class="radio-selected" src="Images/dd/radio-selected.png" width="30" alt="">'),e(".cover").not(e(this).prev()).html('<img class="radio-deselected" src="Images/dd/radio-deselected.png" width="30" alt="">')}):e(this).append('<img class="radio-deselected" src="Images/dd/radio-deselected.png" width="30" alt="">').next().on("click",function(){e(this).prev().html('<img class="radio-selected" src="Images/dd/radio-selected.png" width="30" alt="">'),e(".cover").not(e(this).prev()).html('<img class="radio-deselected" src="Images/dd/radio-deselected.png" width="30" alt="">')})}),a.find(".dd-print-btn").on("click",function(e){e.preventDefault(),window.print()})}},i.ResponsiveImage=new function(){var t=this,a,i={};this.init=function(n){a=n;for(var o=n.attr("data-property-breakpoints").split(","),r=n.attr("data-property-src").split(","),d=0;d<o.length;d++)i[o[d]]=r[d];e(window).on("orientationchange orientationEvent resize",t.updateSize)},this.updateSize=function(){var t=e("html").attr("data-current-breakpoint");i.hasOwnProperty(t)&&i[t]!=a.attr("src")&&(console.log("found"),a.attr("src",i[t]))}},i.BarChart=new function(){var e=this;this.init=function(e){var t=parseFloat(e.attr("data-property-max")),a=parseFloat(e.attr("data-property-value")),i=e.find("*[data-widget-property=bar-fill]"),n=Math.min(Math.max(0,a/t),1);i.css("width",""+parseInt(100*n)+"%"),n>=1&&i.addClass("full"),1==e.find("*[data-widget-property=min-amount]").length&&1==e.find("*[data-widget-property=max-amount]").length&&(a>0&&e.find("*[data-widget-property=min-amount]").html("&nbsp;"),1===n&&e.find("*[data-widget-property=max-amount]").html("&nbsp;"))}},i.DismissableNotification=new function(){function t(){}var a=this,i,n,o;a.init=function(t){var a=t;n=a.closest(".container"),o=a.parent(),i=n.prev(".container.section-title-group");var r=a.find(".close-btn");r.on("click",function(){a.slideUp(400,function(){e(this).remove()}),1==o.children().length&&(i.animate({height:0,opacity:0},400),n.animate({height:0,opacity:0},400))})}},i.ActionPrompt2=new function(){this.init=function(t){var a=t,i=a.attr("data-widget-name"),n=e("*[data-widget-type=action-prompt-target][data-widget-name="+i+"]");
cancelBtn=n.find("*[data-widget-action=cancel]").filter(function(){return n[0]===e(this).closest("*[data-widget-type=action-prompt-target]")[0]});var o=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle";"fadeoutfadein"===o?cancelBtn.on("click",function(){originalSection=a.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),a.removeClass("prompt-revealed"),n.fadeOut(300,function(){originalSection.fadeIn(300)})}):cancelBtn.on("click",function(){e("*[data-widget-type=action-prompt][data-widget-name="+i+"]").removeClass("prompt-revealed"),n.length>0&&n.fadeOut(300,function(){e(this).removeClass("active")})})},this.reveal=function(t){var a,i=e(this),n=i.attr("data-widget-name"),o=void 0!=i.attr("data-transition-type")?i.attr("data-transition-type"):"toggle",r=e("[data-widget-type=action-prompt-target][data-widget-name="+n+"]"),d=i.closest(".funding-source-inner"),s=i.closest("*[data-widget-type=inline-actionable]").find("[data-widget-type=action-prompt-target].active");if(i.hasClass("prompt-revealed")?i.removeClass("prompt-revealed"):i.addClass("prompt-revealed"),"fadeoutfadein"===o)a=i.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),a.fadeOut(300,function(){r.fadeIn(300)});else if(s.length>0){var l=s.attr("data-widget-name"),c=r.attr("data-widget-name");e("[data-widget-type=action-prompt][data-widget-name="+l+"]").removeClass("prompt-revealed"),s.fadeOut(300,function(){r.fadeIn(300,function(){e(this).addClass("active"),e("[data-widget-type=action-prompt][data-widget-name="+c+"]").addClass("prompt-revealed"),e(this).css("overflow","")}),e(this).removeClass("active")})}else r.fadeIn(300,function(){e(this).addClass("active"),e(this).css("overflow","")})}},i.MpActionPrompt2=new function(){this.init=function(t){var a=t,i=a.attr("data-widget-name"),n=e("*[data-widget-type=mp-action-prompt-target][data-widget-name="+i+"]");cancelBtn=n.find("*[data-widget-action=cancel]").filter(function(){return n[0]===e(this).closest("*[data-widget-type=mp-action-prompt-target]")[0]});var o=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle";"fadeoutfadein"===o?cancelBtn.on("click",function(){originalSection=a.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),a.removeClass("prompt-revealed"),n.fadeOut(300,function(){originalSection.fadeIn(300),cancelBtn.closest('[data-widget-type="enable-disable-phone-container"]').removeClass("changing")})}):cancelBtn.on("click",function(){e("*[data-widget-type=mp-action-prompt][data-widget-name="+i+"]").removeClass("prompt-revealed"),n.length>0&&(e(this).closest(".payee-container").animate({backgroundColor:"transparent"},300),e(this).closest(".payee-container").siblings(".ruleset.with-or").fadeTo(300,1),n.fadeOut(300,function(){e(this).removeClass("active"),cancelBtn.closest('[data-widget-type="enable-disable-phone-container"]').removeClass("changing")}))})},this.reveal=function(t){var a,i=e(this),n=i.attr("data-widget-name"),o=void 0!=i.attr("data-transition-type")?i.attr("data-transition-type"):"toggle",r=e("[data-widget-type=mp-action-prompt-target][data-widget-name="+n+"]"),d=i.closest(".funding-source-inner"),s=i.closest(".payee-container").find("[data-widget-type=mp-action-prompt-target].active"),l=i.closest(".payee-container");if(i.closest("[data-widget-type=enable-disable-phone-container]").addClass("changing"),i.hasClass("prompt-revealed")?i.removeClass("prompt-revealed"):i.addClass("prompt-revealed"),s.hasClass("sms-opt-in")&&s.find("#AgreeCommunicationsDisclosure").length&&!s.find("#AgreeCommunicationsDisclosure").prop("checked"))return s.find("#AgreeCommunicationsDisclosure").addClass("error").end().find(".inline-error").removeClass("hidden"),!1;if(e("#AgreeCommunicationsDisclosure").removeClass("error"),s.find(".inline-error").addClass("hidden").end().find(".inline-processing").show(),"fadeoutfadein"===o)a=i.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),a.fadeOut(300,function(){r.fadeIn(300)});else if(s.length>0){var c=s.attr("data-widget-name"),p=r.attr("data-widget-name");e("[data-widget-type=mp-action-prompt][data-widget-name="+c+"]").removeClass("prompt-revealed"),s.fadeOut(300,function(){r.fadeIn(300,function(){e(this).addClass("active"),e("[data-widget-type=mp-action-prompt][data-widget-name="+p+"]").addClass("prompt-revealed"),e(this).css("overflow","")}),e(this).removeClass("active")})}else l.animate({backgroundColor:"#F6F6F6"},300),l.next(".ruleset.with-or").fadeTo(300,.01),l.prev(".ruleset.with-or").fadeTo(300,.01),r.fadeIn(300,function(){e(this).addClass("active"),e(this).css("overflow","")})}},t.tabFix()};var a=function(){var t=window.navigator.userAgent,a=/(Android 4)/,n=/(iPhone|iPad)/;t.match(a)&&window.FileReader?e("html").addClass("android-modern"):t.match(n)&&window.FileReader&&e("html").addClass("ios-modern"),i()&&e("html").addClass("baseline")},i=function(){var t=!1,a=e("html").attr("data-current-breakpoint");return-1!==["medium","small"].indexOf(a)&&(e("html").hasClass("android-modern")||e("html").hasClass("ios-modern")||(e("html").hasClass("notouch")&&"small"===a?t=!0:e("html").hasClass("touch")&&(t=!0))),t};e(document).ready(function(){t.Widget.init(),t.Window.init(),t.Menu.init()})}(jQuery);