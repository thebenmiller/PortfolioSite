!function($){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var a,i=t?t:0,n;if(!this)throw new TypeError;if(n=this.length,0===n||i>=n)return-1;for(0>i&&(i=n-Math.abs(i)),a=i;n>a;a++)if(this[a]===e)return a;return-1});var e={};window.Hudsoninteraction=e,e.Async=new function(){function e(e,t){t&&(e.css("display","block"),e.addClass("active"))}var t=this;t.ajaxCall=function(t,a,i,n){var o=$('[data-widget-role=inline-process][data-role-name="'+t.attr("data-widget-role")+'"]');e(o,1);var r=!0;setTimeout(function(){n(r),e(o,0)},2e3)}},e.testTouch=function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)||-1!=navigator.appVersion.toLowerCase().indexOf("mobile")},e.Window=new function(){function i(){var e="<div id = 'inline-test' class = 'grid-row'><div class ='check' style = 'width: 1px' id = 'unit1'></div> <div class = 'check' style = 'width: 1px'  id = 'unit2'></div></div>";$("body").append(e),$("html").addClass($("#unit2").offset().left>1?"inline-fail":"inline-pass"),$("#inline-test").remove()}function n(a){var i=d();$("html").attr("data-current-breakpoint",i),r()||($("html").removeClass("touch").addClass("notouch"),s.touch=!1),t();var n=e.Menu;n.isAndroidTablet()?$("html").addClass("android-tablet"):$("html").removeClass("android-tablet"),($("html").hasClass("android-modern")||$("html").hasClass("ios-modern"))&&(n.adjustSubNavHeight(),parseInt($(".nav-wrapper").css("width"),10)===$(window).width()&&n.preventOverScroll())}function o(t){var i=e.Menu,n=d();$("html").attr("data-current-breakpoint",n);var o=$(".nav-wrapper").hasClass("active");if($("html").hasClass("baseline")&&i.adjustOverlayHeight(o),$(window).height()>320?$(".landscape").removeClass("landscape"):($("html").hasClass("android-modern")||$("html").hasClass("ios-modern"))&&($("html").addClass("landscape"),i.lockDocumentScroll(!1)),($("html").hasClass("android-modern")||$("html").hasClass("ios-modern"))&&i.adjustSubNavHeight(),$("html").hasClass("notouch")&&$(window).width()>320&&$(".nav-wrapper").hasClass("active")&&!$("html").hasClass("lt-ie9")&&i.showNav(!1),parseInt($(".nav-wrapper").css("width"),10)!==$(window).width()&&$("html").hasClass("touch")){var r=$("#nav-header").offset().left,s=r>10?r+5:0;$(".nav-wrapper").css({right:s})}a()?$("html").addClass("baseline"):$("html").removeClass("baseline"),i.isAndroidTablet()?$("html").addClass("android-tablet"):$("html").removeClass("android-tablet")}function r(){return void 0!=window.navigator.msMaxTouchPoints?window.navigator.msMaxTouchPoints>0?!0:!1:!!("ontouchstart"in window)||!!("onmsgesturechange"in window)||!!/iemobile/i.test(navigator.userAgent)}function d(){var e,t,a,i,n=s.width=$(window).width();return $.each(s.breakpoints,function(t,a){a.width<=n&&(e=a.breakpointName)}),e}var s=this;s.touch=!0,s.width=0,s.scrollPos=0,s.init=function(){n(),$(window).on("orientationchange orientationEvent resize",o),i()},s.breakpoints={small:{width:320,breakpointName:"small"},medium:{width:500,breakpointName:"medium"},large:{width:720,breakpointName:"large"},extralarge:{width:1024,breakpointName:"xlarge"}}},e.Menu=new function(){var t=this,i=e.Window,n={small:320,"medium-":500,"medium+":525,large:720,"large+":780,xlarge:1024},o=["base","xl-global-retina","small","small-landscape","small-retina","medium-hamburger","medium","medium-landscape","large","large-","x-large"];t.getMediaQueryName=function(){0===$(".js-mq").length&&$("body").append($('<div class="js-mq"></div>'));var e=$(".js-mq").css("z-index")-1;return $(".js-mq").remove(),o[e]},t.getMediaQueryIndex=function(e){for(var t=-1,a=0;a<o.length;a++)o[a]===e&&(t=a);return t>-1?t:!1},t.getCurrentMediaQueryIndex=function(){var e=t.getMediaQueryName();return t.getMediaQueryIndex(e)};var r,d,s,l,c,p,f=[74,75],u=!1,h=!1;t.init=function(){r=$(".pinnable"),d=r.find(".header-wrapper"),s=r.find(".nav-wrapper"),l=r.find(".header-spacer"),c=$(".nav-overlay"),p=$(".no-nav"),setTimeout(t.hideAddressBar,50),i.touch===!1&&($(window).on("scroll",t.scrollEvent),$(window).on("resize",t.resizeEvent)),r.find(".has-sub-nav").on("click",t.subNavClickEvent),r.find(".more-link, .close").on("click",t.navClickEvent),"fixed"!==$(".header-wrapper").css("position")||t.isAndroidTablet()||c.on("mousedown",t.navClickEvent)},t.hideAddressBar=function(){window.scrollTo(0,~~window.scrollY+1)},t.scrollEvent=function(){if(i.scrollPos=$(document).scrollTop(),!p.length){var e=t.getCurrentMediaQueryIndex(),a=t.getMediaQueryIndex("large");a>e||(h&&i.scrollPos<=f[0]?(u&&t.cancelPinning(),t.unpinHeader()):!h&&i.scrollPos>=f[1]&&(u||t.pinHeader()))}},t.pinHeader=function(){var e=$("html").data("data-current-breakpoint");$(window).width()/$(window).height()>1.6&&"small"!==e&&$("html").hasClass("touch")||(u=h=!0,r.addClass("pinned"),s.find("*").css({opacity:0}).animate({opacity:1},400,function(){u=!1}))},t.unpinHeader=function(){r.removeClass("pinned"),h=!1},t.cancelPinning=function(){s.find("*").stop(),s.find("*").css("opacity",""),u=!1},t.resizeEvent=function(){var e=t.getCurrentMediaQueryIndex(),a=t.getMediaQueryIndex("large");a>e&&t.unpinHeader(),e>a&&!h&&i.scrollPos>=f[1]&&(r.addClass("pinned"),h=!0)},t.navClickEvent=function(){var e=t.getCurrentMediaQueryIndex(),a=t.getMediaQueryIndex("small");if(!($("html").hasClass("notouch")&&$(".pinnable").height()>90&&e>a)){var i=$(this),n=i.hasClass("more-link")&&!s.hasClass("active");return t.showNav(n),!1}},t.consumeScrollEvents=function(e){$("html").hasClass("landscape")||e.preventDefault()},t.showHighendNav=function(e){$(window).height()>320||(e?($("html").addClass("landscape"),t.adjustSubNavHeight()):$("html").removeClass("landscape"))},t.showBaselineNav=function(e){if(e){if($("html").hasClass("baseline"))s.addClass("active"),$(".nav-close-spacer").addClass("active"),"small"===$("html").attr("data-current-breakpoint")&&window.scrollTo(0,0);else{if(parseInt($(".nav-wrapper").css("width"),10)!==$(window).width()&&$("html").hasClass("touch")){var t=$("#nav-header").offset().left,a=t>10?t+5:0;$(".nav-wrapper").css({right:a})}s.fadeIn(400,function(){s.addClass("active"),$(".nav-close-spacer").addClass("active"),s.css("display",""),s.css("overflow",""),"small"===$("html").attr("data-current-breakpoint")&&window.scrollTo(0,0)})}d.find(".more-wrapper").addClass("active")}else $("html").hasClass("baseline")||$("html").hasClass("touch")&&"small"!==$("html").attr("data-current-breakpoint")||$("html").hasClass("notouch")&&-1===["small","medium"].indexOf($("html").attr("data-current-breakpoint"))?(s.hide(),s.removeClass("active"),$(".nav-close-spacer").removeClass("active"),s.css("display","")):u||(u=!0,$(".nav-close-spacer").removeClass("active"),s.fadeOut(400,function(){s.removeClass("active"),s.css("display",""),u=!1})),d.find(".more-wrapper").removeClass("active")},t.isAndroidTablet=function(){return a()?$("html").hasClass("notouch")?!1:0===window.orientation&&$(window).width()<$(window).height()&&"small"!==$("html").attr("data-current-breakpoint"):!1},t.updateOverScrollBounds=function(){var e=$(".main-nav-wrapper")[0];e&&(t.allowScrollUp=e.scrollTop>0,t.allowScrollDown=e.scrollTop<e.scrollHeight-e.clientHeight-3)},t.preventOverScroll=function(){var e=$(".main-nav-wrapper")[0],a=function(e){t.updateOverScrollBounds(),t.lastY=e.touches[0].pageY},i=function(e){if(t.up=e.touches[0].pageY>t.lastY,t.tap=e.touches[0].pageY===t.lastY,t.down=!t.up,t.lastY=e.touches[0].pageY,t.up&&t.allowScrollUp||t.down&&t.allowScrollDown)e.stopPropagation();else{if($("html").hasClass("landscape")||t.tap)return;e.preventDefault()}};$("html").hasClass("landscape")||(t.allowScrollUp=!0,t.allowScrollDown=!0,t.lastY=0,e.addEventListener("touchstart",a,!0),e.addEventListener("touchmove",i,!0),e.addEventListener("touchstart",i,!0))},t.lockDocumentScroll=function(e){e?$(document).bind("touchmove",t.consumeScrollEvents):$(document).unbind("touchmove",t.consumeScrollEvents)},t.showOverlay=function(e){e?(c.addClass("active"),t.adjustOverlayHeight(e),a()&&!t.isAndroidTablet()&&$("#page-content,footer").hide()):(c.removeClass("active"),c.removeAttr("style"),t.adjustOverlayHeight(e),$("#page-content,footer").show()),($("html").hasClass("ios-modern")||$("html").hasClass("android-modern")&&-1!==["small","medium"].indexOf($("html").attr("data-current-breakpoint")))&&t.lockDocumentScroll(e)},t.adjustOverlayHeight=function(e){if(e){if($("html").hasClass("baseline")&&!t.isAndroidTablet())var a=$(window).height();else var a=$(document).height();var i=a>$(".top-nav").height()?a:$(".top-nav").height();i+=15,$(".nav-overlay").css({height:i})}else $(".nav-overlay").css("height","")},t.showNav=function(e){t.showBaselineNav(e),($("html").hasClass("ios-modern")||$("html").hasClass("android-modern"))&&t.showHighendNav(e),t.showOverlay(e)},t.subNavClickEvent=function(e){if(!($("html").hasClass("notouch")&&$(".pinnable").height()>90&&$(window).width()>=541)){var a=$(this),i=!a.hasClass("active"),n=$(".has-sub-nav.active");"#"!==e.target.getAttribute("href")&&n||a.hasClass("nonactive")||(n.length&&t.showSubNav(n,!1),i&&setTimeout(function(){t.showSubNav(a,!0)},n.length?301:0))}},t.adjustSubNavHeight=function(){if(!$("html").hasClass("baseline")){var e=$(".min-money-bar").height()+$(".action-nav").height()+10,a=$("li.top-level").not(".sub-nav").eq(0).height();$("li.top-level").each(function(){e+=a}),$("li.top-level.active").find("li").each(function(){e+=$(this).height()}),$("html").hasClass("landscape")?$(".top-nav").css({height:e}):$(".top-nav").removeAttr("style"),t.updateOverScrollBounds()}},t.showSubNav=function(e,a){a?(e.addClass("up"),e.find(".sub-nav").slideDown(300,function(){$(this).css({display:"",overflow:""}),e.addClass("active"),t.adjustOverlayHeight(a)}),setTimeout(function(){e.closest(".main-nav-wrapper").animate({scrollTop:e[0].offsetTop},100,"swing",function(){t.adjustSubNavHeight()})},300)):(e.closest(".main-nav-wrapper").animate({scrollTop:0},100),e.removeClass("up"),e.find(".sub-nav").slideUp(300,function(){$(this).css({display:"",overflow:""}),e.removeClass("active"),"0px"!==$(".nav-overlay").css("height")&&t.adjustOverlayHeight(!0),t.adjustSubNavHeight()}))}},e.Widget=new function(){function t(e){var t=e?e.target:window.event.srcElement,a=$(t);"open"!==a.attr("data-action-state")&&1!==a.closest("[data-action-state=open]").length?("open"===$("*[data-open-by=animation]").attr("data-action-state")&&$("*[data-open-by=animation]").slideToggle(100),$("*[data-action-state='open']").attr("data-action-state","closed").attr("aria-hidden","true"),$("input[data-widget-type=contact-field]").removeAttr("disabled")):("open"===a.attr("data-action-state")||a.closest('[data-action-state="open"]').length>0)&&("tootltip-body"===a.attr("data-action-role")||a.closest("[data-action-role=tooltip-body]").length>0&&"A"!=a.prop("tagName"))&&$("*[data-action-state='open']").attr("data-action-state","closed").attr("aria-hidden","true")}var a=this;a.init=function(e){e=e||$("body"),e.find("*[data-widget-type]").each(function(){var e,t=$(this),i=t.attr("data-widget-type");switch(i){case"card-selection":e=a.CardSelection,t.on("click","a",e.click);break;case"action-prompt":e=a.ActionPrompt,e.init(t),t.on("click",e.reveal);break;case"mp-action-prompt":e=a.MpActionPrompt,e.init(t),t.on("click",e.reveal);break;case"inline-modifier":e=a.InlineModifier,t.on("click",e.click);break;case"input-form-label-focus-select":e=a.InputFocusSelectRadio,e.init(t);break;case"dismissable":e=a.Dismissable,e.init(t);break;case"date-filter":e=a.DateFilter,e.init(t);case"select":e=a.EnhancedSelect.Simple,e.init(t),t.on("change",e.click);break;case"select-card":e=a.EnhancedSelect.Card,e.init(t),t.on("change",e.click);break;case"select-state":e=a.EnhancedSelect.State,e.init(t),t.on("change",e.click);break;case"select-card-and-reveal":a.EnhancedSelect.Card.init(t),t.on("focus",a.AccordionReveal.focus),t.on("change",a.EnhancedSelect.Card.click),t.on("change",a.AccordionReveal.change);break;case"tooltip":t.on("click",a.ToolTip.click);break;case"contacts":e=a.Contacts,t.on("click",e.open),e.delegateClick(t);break;case"action-prompt":e=a.ActionPrompt,e.init(t),t.on("click",e.reveal);break;case"page-view-control":e=a.PageView,e.init(t),t.on("change",e.change);break;case"load-more-control":e=a.LoadMore,t.on("click",e.click);break;case"delete-payee-container":e=a.DeletePayee,e.init(t);break;case"bill-pay-date-filter":e=a.BPDateFilter,e.init(t);break;case"bp-load-more":e=a.BpLoadMore,e.init(t);break;case"processing-overlay":e=a.ProcessingOverlay,e.init(t);break;case"radio-clear":t.one("change",a.RadioClear.change);break;case"radio-hide":t.on("change",a.RadioHide.change);break;case"radio-expand-animate":a.RadioExpandAnimate.init(t);break;case"radio-clear-always":t.on("change",a.RadioClear.change);break;case"check-helper":a.BankAccountHelper.init(t);break;case"message-fades":a.MessageFades.init(t);break;case"reveal-accordion-trigger":t.on("focus",a.AccordionReveal.focus);break;case"show-hide-drawer":e=a.ShowHideDrawer,e.init(t);break;case"dynamic-card-changer":e=a.CardTypeReveal,e.init(t),t.on("keyup",e.keyup);break;case"contextual-help":$("#bubble").addClass("first"),e=a.HelpBubble,t.on("focus","input, select",e.reveal),t.on("blur","input, select",e.hide);break;case"replace-link-confirm":t.on("click",function(e){a.replaceLinkWithConfirm.resend(),e.preventDefault});break;case"referAddEmails":e=a.ReferEmails,e.init(t);break;case"fileUploadBtn":a.FileUpload.init(t);break;case"addAnotherFile":a.AddAnotherFile.init(t);break;case"enhance-link":a.enhanceLink(t);break;case"date-filter-future":e=a.DateFilterFuture,e.init(t);break;case"toggle-date-field":t.on("change",a.ToggleField.change);break;case"edit-inline":a.EditNameInline.init(t);break;case"dynamic-frequency":a.DynamicFrequency.init(t);break;case"seg-accts-dynamic-pause":t.on("click",a.SegAccts.click);break;case"load-more-transaction-control":e=a.LoadMoreTransaction,t.on("click",e.click);break;case"direct-deposit-print-form":e=a.PrintForm,e.init(t);break;case"responsive-image":e=a.ResponsiveImage,e.init(t);break;case"bar-chart":e=a.BarChart,e.init(t);break;case"dismissable-notification":e=a.DismissableNotification,e.init(t);break;case"action-prompt-2":e=a.ActionPrompt2,e.init(t),t.on("click",e.reveal);break;case"mp-action-prompt-2":e=a.MpActionPrompt2,e.init(t),t.on("click",e.reveal);break;case"focus-reveal":e=a.FocusReveal,e.init(t)}}),$("input, textarea").each(function(){var e=$(this),t=e.attr("data-input-type"),i=e.attr("class"),n=e.attr("type"),o;switch(t){case"dollar":o=a.DollarInput,e.on("focus",o.focus),e.on("keyup",o.keyup),e.on("blur",o.blur);break;case"percent":o=a.PercentageInput,e.on("blur",o.blur)}switch(n){case"radio":o=a.EnhancedRadio,o.init(e),e.on("change",o.change);break;case"checkbox":o=a.EnhancedCheckbox,o.init(e),e.on("change",o.change)}void 0!=i&&i.indexOf("prefill")>=0&&(o=a.ClearPrefill,o.init(e),e.on("keyup change",o.keyup))}),$(".container").on("click",function(e){t(e)}),Date.prototype.toMMDDYYYYString=function(){return isNaN(this)?"NaN":[this.getMonth()>8?this.getMonth()+1:"0"+(this.getMonth()+1),this.getDate()>9?this.getDate():"0"+this.getDate(),this.getFullYear()].join("/")},Date.prototype.toYYYYMMDDString=function(){return isNaN(this)?"NaN":[this.getFullYear(),this.getMonth()>8?this.getMonth()+1:"0"+(this.getMonth()+1),this.getDate()>9?this.getDate():"0"+this.getDate()].join("-")},Date.prototype.plusDays=function(e){return this.setDate(this.getDate()+e),this}},a.InlineModifier=new function(){var e=this;e.click=function(t){var a=$(this),i=a.closest("*[data-widget-type=inline-actionable]");switch(a.attr("data-property-action")){case"delete":e.DeleteInline(i);break;case"primary":e.SwapPrimary(i);break;case"optin":e.OptIn(i);break;case"optout":e.OptOut(i);break;case"addphone":e.AddPhone(i);break;case"verify-0":e.Verify(i,0);break;case"verify-1":e.Verify(i,1);break;case"close-prompt":e.closePrompt(i);break;case"email":e.ResendEmail(i);break;case"resend-code":e.ResendCode(i);break;case"addemail":e.AddEmail(i);break;case"disableAutoAccept":e.DisableAutoAccept(i);break;case"enableAutoAccept":e.EnableAutoAccept(i);break;case"deleteSetting":e.DeleteSetting(i);break;case"directDeposit":e.DirectDeposit(i);break;case"disableLowBalanceAlerts":e.DisableLowBalanceAlerts(i);break;case"disableScheduleAlerts":e.DisableScheduleAlerts(i);break;case"enableATMWithdrawals":e.EnableATMWithdrawals(i);break;case"disableATMWithdrawals":e.DisableATMWithdrawals(i);break;case"enableSMSNotifications":e.EnableSMSNotifications(i);break;case"disableSMSNotifications":e.DisableSMSNotifications(i);break;case"enableSettingsChangedNotifications":e.EnableSettingsChangedNotifications(i);break;case"disableSettingsChangedNotifications":e.DisableSettingsChangedNotifications(i);break;case"disableCloseAccount":e.DisableCloseAccount(i);break;case"primary-game":e.GameChange(i);break;case"pauseReserve":e.pauseReserve(i)}},e.InlineOverlay=function(e){e?$(".inline-overlay").css("display","block"):$(".inline-overlay").css("display","none")},e.DeleteInline=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DeleteInlineComplete(t)},2500)},e.DeleteInlineComplete=function(t){t.fadeOut(300),e.InlineOverlay(!1),setTimeout(function(){t.remove()},450)},e.SwapPrimary=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.SwapPrimaryComplete(t)},2500)},e.SwapPrimaryComplete=function(t){var i=$("*[data-widget-type=inline-actionable][data-property-primary=true]"),n=i.clone(!1,!1);i.fadeOut(300),t.fadeOut(300),setTimeout(function(){if(t.attr("data-property-email"))i.find(".phonenumber").text(t.find(".phonenumber").text()),i.find(".item").find(".label").text("(Verified)"),t.find(".phonenumber").text(n.find(".phonenumber").text()),t.find(".item").find(".label").text(""),t.prependTo(t.parent());else{var o="true"===t.attr("data-property-mobile"),r="true"===t.attr("data-property-optin"),d=t.attr("data-widget-name"),s=i.attr("data-widget-name"),l="true"===i.attr("data-property-mobile"),c="true"===i.attr("data-property-optin");i.attr("data-property-mobile",o),i.attr("data-property-optin",r),t.attr("data-property-mobile",l),t.attr("data-property-optin",c),i.find(".phonenumber").text(t.find(".phonenumber").text()),i.find(".item").find(".label").text(o&&r?"(SMS Enabled)":"");var p="<ul><li><a data-widget-type = 'action-prompt' data-widget-name = '"+s+"-"+(r?"optout":"optin")+"'>"+(r?"Disable":"Enable")+" SMS</a></li></ul>";i.find(".action-link").html(o?p:""),t.find(".phonenumber").text(n.find(".phonenumber").text()),t.find(".item").find(".label").text(l&&c?"(SMS Enabled)":"");var f="<ul>";l&&(f+="<li><a id = 'opt-out' data-widget-type = 'action-prompt' data-widget-name = '"+d+"-"+(c?"optout":"optin")+"'>"+(c?"Disable":"Enable")+" SMS</a></li><span class = 'separator'>|</span>"),f+="<li><a data-widget-type = 'action-prompt' data-widget-name = '"+d+"-promote'>Make Primary</a></li><span class = 'separator'>|</span><li><a data-widget-type = 'action-prompt' data-widget-name = '"+d+"-delete'>Delete</a></li>",t.find(".action-link").html(f),t.prependTo(t.parent())}e.InlineOverlay(!1),t.find("*[data-widget-type=action-prompt]").each(function(){a.ActionPrompt.init($(this)),$(this).click(a.ActionPrompt.reveal)}),i.find("*[data-widget-type=action-prompt]").each(function(){a.ActionPrompt.init($(this)),$(this).click(a.ActionPrompt.reveal)})},300),setTimeout(function(){t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").hide(0),t.find(".inline-processing").hide(),n.remove(),setTimeout(function(){t.fadeIn(300)},200),i.fadeIn(300)},400)},e.Verify=function(t,a){0==a?t.find("*[data-widget-property=pre-state]").fadeOut(300,function(){t.addClass("pending-verification"),t.find("*[data-widget-property=post-state]").fadeIn(300,function(){t.find(".prompt-box").removeClass("active"),$(this).addClass("active")})}):e.OptIn(t)},e.OptIn=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.OptInComplete(t)},2500)},e.OptInComplete=function(t){var i=t.attr("data-widget-name");t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").hide(0),t.find(".inline-processing").hide(),t.find(".item").find(".label").text("(SMS Enabled)"),t.find(".item").find(".label").fadeOut(0).fadeIn(300),t.find("*[data-widget-type=action-prompt][data-widget-name="+i+"-optin]").text("Disable SMS").attr("data-widget-name",i+"-optout"),t.find("*[data-widget-type=action-prompt]").each(function(){a.ActionPrompt.init($(this)),$(this).click(a.ActionPrompt.reveal)}),e.InlineOverlay(!1),t.closest(".grey-box").removeClass("pending-verification")},e.OptOut=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.OptOutComplete(t)},2500)},e.OptOutComplete=function(t){var i=t.attr("data-widget-name");t.find(".item").find(".label").fadeOut(150),setTimeout(function(){t.find(".item").find(".label").text("").fadeIn(0)},160),t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").hide(0),t.find(".inline-processing").hide(),t.find("*[data-widget-type=action-prompt][data-widget-name="+i+"-optout]").text("Enable SMS").attr("data-widget-name",i+"-optin"),t.find("*[data-widget-type=action-prompt]").each(function(){a.ActionPrompt.init($(this)),$(this).click(a.ActionPrompt.reveal)}),e.InlineOverlay(!1)},e.closePrompt=function(e){e.find(".prompt-revealed").removeClass("prompt-revealed"),e.find(".prompt-box").removeClass("active").fadeOut(400),e.find(".inline-processing").hide(),setTimeout(function(){e.removeClass("pending-verification")},400)},e.AddPhone=function(t){$("#proto-new-phone").fadeIn(300),e.InlineOverlay(!1)},e.AddEmail=function(e){$("#proto-unverified-email").fadeIn(300)},e.ResendEmail=function(t){e.InlineOverlay(!0),setTimeout(function(){e.InlineOverlay(!1)},3100),t.find("*[data-widget-type=module-message-alert]").fadeIn(300).delay(2500).fadeOut(300)},e.ResendCode=function(t){e.InlineOverlay(!0),setTimeout(function(){e.InlineOverlay(!1)},3100),t.find("*[data-widget-type=module-message-alert]").fadeIn(300).delay(2500).fadeOut(300)},e.EnableAutoAccept=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.EnableAutoAcceptComplete(t)},2500)},e.EnableAutoAcceptComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DisableAutoAccept=function(t){t.find(".inline-processing").show(0),setTimeout(function(){e.DisableAutoAcceptComplete(t)},2500)},e.DisableAutoAcceptComplete=function(t){console.log(t),t.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),console.log("aher"),t.find("*[data-widget-property=pre]").fadeIn(300),t.find("*[data-widget-property=replaced-by-prompt]").fadeIn(300),t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").fadeOut(400)},300)},e.DeleteSetting=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DeleteSettingComplete(t)},2500)},e.DeleteSettingComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DirectDeposit=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DirectDepositComplete(t)},2500)},e.DirectDepositComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DisableLowBalanceAlerts=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DisableLowBalanceAlertsComplete(t)},2500)},e.DisableLowBalanceAlertsComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DisableScheduleAlerts=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DisableScheduleAlertsComplete(t)},2500)},e.DisableScheduleAlertsComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.EnableATMWithdrawals=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.EnableATMWithdrawalsComplete(t)},2500)},e.EnableATMWithdrawalsComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DisableATMWithdrawals=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DisableATMWithdrawalsComplete(t)},2500)},e.DisableATMWithdrawalsComplete=function(t){t.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=pre]").fadeIn(300),t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").fadeOut(400)},300)},e.EnableSMSNotifications=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.EnableSMSNotificationsComplete(t)},2500)},e.EnableSMSNotificationsComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DisableSMSNotifications=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DisableSMSNotificationsComplete(t)},2500)},e.DisableSMSNotificationsComplete=function(t){t.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=pre]").fadeIn(300),t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").fadeOut(400)},300)},e.EnableSettingsChangedNotifications=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.EnableSettingsChangedNotificationsComplete(t)},2500)},e.EnableSettingsChangedNotificationsComplete=function(t){t.find("*[data-widget-property=pre]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=post]").fadeIn(300)},300)},e.DisableSettingsChangedNotifications=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DisableSettingsChangedNotificationsComplete(t)},2500)},e.DisableSettingsChangedNotificationsComplete=function(t){t.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=pre]").fadeIn(300),t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").fadeOut(400)},300)},e.DisableCloseAccount=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.DisableCloseAccountComplete(t)},2500)},e.DisableCloseAccountComplete=function(t){t.find("*[data-widget-property=post]").fadeOut(300),setTimeout(function(){e.InlineOverlay(!1),t.find(".inline-processing").hide(),t.find("*[data-widget-property=pre]").fadeIn(300),t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").fadeOut(400)},300)},e.pauseReserve=function(e){function t(e){var t=e.find("[data-widget-property=status]");e.find("[data-widget-property=active-state]").addClass("inactive"),e.find("[data-widget-property=paused-state]").removeClass("inactive"),e.find("[data-widget-name=reserve-pause]").fadeOut(300),t.fadeOut(300),setTimeout(function(){t.text("Paused").fadeIn(300)},300)}e.find(".inline-processing").show(0),setTimeout(function(){t(e)},2500)},e.InlineOverlay=function(e){e?$(".inline-overlay").css("display","block"):$(".inline-overlay").css("display","none")},e.GameChange=function(t){e.InlineOverlay(!0),t.find(".inline-processing").show(0),setTimeout(function(){e.GameChangeComplete(t)},2500)},e.GameChangeComplete=function(t){var a=$("*[data-widget-type=inline-actionable][data-property-primary=true]"),i=a.attr("data-property-title"),n=t.attr("data-property-title");a.fadeOut(300),t.fadeOut(300),setTimeout(function(){a.find("*[data-widget-property=title]").text(n),a.find("*[data-widget-property=thumb]").removeClass(i.toLowerCase()).addClass(n.toLowerCase()),a.find("*[data-widget-property=switch-btn]").text("Switch to "+n),t.find("*[data-widget-property=title]").text(i),t.find("*[data-widget-property=thumb]").removeClass(n.toLowerCase()).addClass(i.toLowerCase()),t.find("*[data-widget-property=switch-btn]").text("Switch to "+i),a.attr("data-property-title",n),t.attr("data-property-title",i)},300),setTimeout(function(){t.find(".prompt-revealed").removeClass("prompt-revealed"),t.find(".prompt-box").removeClass("active").hide(0),t.find("*[data-widget-property=replaced-by-prompt]").addClass("active").show(),t.find(".inline-processing").hide(),setTimeout(function(){e.InlineOverlay(!1),t.fadeIn(300)},200),a.fadeIn(300)},400)}},a.DateFilter=new function(){var t=this,a,i=[],n=!0,o=!1,r=["",""],d=null,s,l=0;t.init=function(e){if(a=e,n=t.getDateCapabilities(),s=!0,i=a.find("[data-widget-property=date-input]"),n)for(var o=0;o<i.length;o++)try{i[o].type="date"}catch(r){}else i.datepicker({minDate:"0",yearRange:"0:+10",onClose:t.pickerCloseHandler});t.attachHandlers(),$("[data-widget-property=input-container]").each(function(){var e=$(this).find("input"),a=$(this).find("label");a.find("span").attr("data-text",a.find("span").text()),inputVal=$.trim(e.val()),inputVal&&a.hide(),e.focus(function(){if(d!==e[0]&&(d=e[0],$.trim(e.val())||a.find("span").text(""),!n)){var t=e[0]===i[0]?"maxDate":"minDate",o=null;o="maxDate"==t?$.trim(i[1].value)?i[1].value:null:$.trim(i[0].value)?i[0].value:0,e.datepicker("option",t,o)}}),e.blur(function(){var i=!!$.datepicker._lastInput&&$.datepicker._lastInput===e[0];i||(d=null),setTimeout(function(){t.placeholderHandler(e,a)},200)})})},t.getDateCapabilities=function(){return e.testTouch()},t.attachHandlers=function(){i.keyup(t.keyHandler),a.find("[data-widget-property=filter-open]").click(t.openFilters),a.find("[data-widget-property=filter-close]").click(t.closeFilters),a.find("[data-widget-property=filter-apply]").click(t.applyFilters),a.find("[data-widget-property=filter-reset]").click(t.resetFilters),a.find("[data-widget-property=filter-clear]").click(t.clearFilters)},t.keyHandler=function(e){13===e.keyCode&&t.dateValidate()},t.openFilters=function(){s=!0,r[0]&&n&&(i[0].value=r[0]),r[1]&&n&&(i[1].value=r[1]),t.placeholderHandler($(i[0]),$(i[0]).closest("[data-widget-property=input-container]").find("label")),t.placeholderHandler($(i[1]),$(i[1]).closest("[data-widget-property=input-container]").find("label")),$("[data-widget-property=date-filter-closed]").fadeOut(300,function(){$("[data-widget-property=date-filter-open]").fadeIn(300).css("display","inline-block")}),$("[data-widget-property=filter-result-count]").fadeOut(300)},t.closeFilters=function(){d=null,$("[data-widget-property=filter-text]").text(o?new Date(r[0]+"T12:00").toMMDDYYYYString()+" - "+new Date(r[1]+"T12:00").toMMDDYYYYString():"Filter By Date"),$("[data-widget-property=date-filter-open]").fadeOut(300,function(){$("[data-widget-property=date-filter-closed]").fadeIn(300),o&&$("[data-widget-property=filter-result-count]").fadeIn(300)})},t.applyFilters=function(){$(this).hasClass("disabled")||applyingFiltersProcessing||(applyingFiltersProcessing=o=!0,t.processFilters(),r=[i[0].value,i[1].value])
},t.clearFilters=function(){$("[data-widget-property=input-container]").each(function(){var e=$(this).find("input"),t=$(this).find("label");e.val(""),t.find("span").text(t.find("span").attr("data-text"))}),$("[data-widget-property=filter-result-count]").fadeOut(300),o=!1,r=["",""],t.processFilters(),$("[data-widget-property=filter-text]").text("Filter By Date")},t.resetFilters=function(){$("[data-widget-property=input-container]").each(function(){var e=$(this).find("input"),t=$(this).find("label");e.val(""),t.find("span").text(t.find("span").attr("data-text"))}),o&&(s=!1,t.processFilters(),r=["",""],o=!1)},t.placeholderHandler=function(e,a){var i=!!$.datepicker._lastInput&&$.datepicker._lastInput===e[0];t.dateValidate(),$.trim(e.val())?a.find("span").text(""):i||e[0]==d||a.find("span").text(a.find("span").attr("data-text"))},t.dateValidate=function(){var e=0;i.each(function(){""==this.value?t.removeError($(this)):"date"!=this.type&&!/[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4}/.test(this.value)||isNaN(new Date(this.value).getTime())?(l=0,t.triggerError($(this),"Please enter a valid date")):(e++,t.removeError($(this)))}),2==e?$("[data-widget-property=filter-apply]").removeClass("disabled"):$("[data-widget-property=filter-apply]").addClass("disabled")},t.processFilters=function(){loadMoreEnabled=!1,Springboard.Widget.ProcessingOverlay.fullscreen(!1),Springboard.Widget.ProcessingOverlay.show(),SA.FilterRequest(t.PROTO_changeItems,i[0],i[1])},t.applyFiltersComplete=function(){Springboard.Widget.ProcessingOverlay.hide(Springboard.Widget.ProcessingOverlay.fullscreen),o&&$("[data-widget-property=filter-result-count]").fadeIn(300),loadMoreEnabled=!o,applyingFiltersProcessing=!1,s&&t.closeFilters()},t.pickerCloseHandler=function(){var e=$(this),a=$(this).closest("[data-widget-property=input-container]").find("label");setTimeout(function(){t.placeholderHandler(e,a)},200)},t.triggerError=function(e,t){e.addClass("error"),e.parent().find(".contextual-error").text(t).show(0),$(".sb-filters .grid-row").addClass("error-state"),l++},t.removeError=function(e){e.removeClass("error"),e.parent().find(".contextual-error").hide(0),l--,0>l&&$(".sb-filters .grid-row").removeClass("error-state")},t.PROTO_changeItems=function(e){t.applyFiltersComplete()}},a.DateFilterFuture=new function(){var e=this,t,a=[],i=!0,n=!1,o=["",""],r=null,d,s=0;e.init=function(n){if(t=n,i=e.getDateCapabilities(),d=!0,a=t.find("[data-widget-property=date-input]"),i)for(var o=0;o<a.length;o++)try{a[o].type="date"}catch(s){}else a.datepicker({minDate:"0",yearRange:"0:+10",onClose:e.pickerCloseHandler});e.attachHandlers(),$("[data-widget-property=input-container]").each(function(){var t=$(this).find("input"),n=$(this).find("label");n.find("span").attr("data-text",n.find("span").text()),inputVal=$.trim(t.val()),inputVal&&n.hide(),t.focus(function(){if(r!=t[0]&&(r=t[0],$.trim(t.val())||n.find("span").text(""),!i)){var e=t[0]==a[0]?"maxDate":"minDate",o=null;a.count>1&&(o="maxDate"==e?$.trim(a[1].value)?a[1].value:null:$.trim(a[0].value)?a[0].value:0,t.datepicker("option",e,o))}}),t.blur(function(){var a=!!$.datepicker._lastInput&&$.datepicker._lastInput==t[0];a||(r=null),setTimeout(function(){e.placeholderHandler(t,n)},200)})})},e.getDateCapabilities=function(){return void 0!=window.navigator.msMaxTouchPoints?window.navigator.msMaxTouchPoints>0?!0:!1:!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},e.attachHandlers=function(){a.keyup(e.keyHandler),t.find("[data-widget-property=filter-open]").click(e.openFilters),t.find("[data-widget-property=filter-close]").click(e.closeFilters),t.find("[data-widget-property=filter-apply]").click(e.applyFilters),t.find("[data-widget-property=filter-reset]").click(e.resetFilters),t.find("[data-widget-property=filter-clear]").click(e.clearFilters)},e.keyHandler=function(t){13==t.keyCode&&e.dateValidate()},e.openFilters=function(){d=!0,o[0]&&i&&(a[0].value=o[0]),o[1]&&i&&(a[1].value=o[1]),e.placeholderHandler($(a[0]),$(a[0]).closest("[data-widget-property=input-container]").find("label")),e.placeholderHandler($(a[1]),$(a[1]).closest("[data-widget-property=input-container]").find("label")),$("[data-widget-property=date-filter-closed]").fadeOut(300,function(){$("[data-widget-property=date-filter-open]").fadeIn(300).css("display","inline-block")}),$("[data-widget-property=filter-result-count]").fadeOut(300)},e.closeFilters=function(){r=null,$("[data-widget-property=filter-text]").text(n?new Date(o[0]+"T12:00").toMMDDYYYYString()+" - "+new Date(o[1]+"T12:00").toMMDDYYYYString():"Filter By Date"),$("[data-widget-property=date-filter-open]").fadeOut(300,function(){$("[data-widget-property=date-filter-closed]").fadeIn(300),n&&$("[data-widget-property=filter-result-count]").fadeIn(300)})},e.applyFilters=function(){$(this).hasClass("disabled")||applyingFiltersProcessing||(applyingFiltersProcessing=n=!0,e.processFilters(),o=[a[0].value,a[1].value])},e.clearFilters=function(){$("[data-widget-property=input-container]").each(function(){var e=$(this).find("input"),t=$(this).find("label");e.val(""),t.find("span").text(t.find("span").attr("data-text"))}),$("[data-widget-property=filter-result-count]").fadeOut(300),n=!1,o=["",""],e.processFilters(),$("[data-widget-property=filter-text]").text("Filter By Date")},e.resetFilters=function(){$("[data-widget-property=input-container]").each(function(){var e=$(this).find("input"),t=$(this).find("label");e.val(""),t.find("span").text(t.find("span").attr("data-text"))}),n&&(d=!1,e.processFilters(),o=["",""],n=!1)},e.placeholderHandler=function(t,a){var i=!!$.datepicker._lastInput&&$.datepicker._lastInput==t[0];e.dateValidate(),$.trim(t.val())?a.find("span").text(""):i||t[0]==r||a.find("span").text(a.find("span").attr("data-text"))},e.dateValidate=function(){var t=0;a.each(function(){""==this.value?e.removeError($(this)):"date"!=this.type&&!/[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4}/.test(this.value)||isNaN(new Date(this.value).getTime())?(s=0,e.triggerError($(this),"Please enter a valid date")):(t++,e.removeError($(this)))}),2==t?$("[data-widget-property=filter-apply]").removeClass("disabled"):$("[data-widget-property=filter-apply]").addClass("disabled")},e.processFilters=function(){loadMoreEnabled=!1,Springboard.Widget.ProcessingOverlay.fullscreen(!1),Springboard.Widget.ProcessingOverlay.show(),SA.FilterRequest(e.PROTO_changeItems,a[0],a[1])},e.applyFiltersComplete=function(){Springboard.Widget.ProcessingOverlay.hide(Springboard.Widget.ProcessingOverlay.fullscreen),n&&$("[data-widget-property=filter-result-count]").fadeIn(300),loadMoreEnabled=!n,applyingFiltersProcessing=!1,d&&e.closeFilters()},e.pickerCloseHandler=function(){var t=$(this),a=$(this).closest("[data-widget-property=input-container]").find("label");setTimeout(function(){e.placeholderHandler(t,a)},200)},e.triggerError=function(e,t){e.addClass("error"),e.parent().find(".contextual-error").text(t).show(0),$(".sb-filters .grid-row").addClass("error-state"),s++},e.removeError=function(e){e.removeClass("error"),e.parent().find(".contextual-error").hide(0),s--,0>s&&$(".sb-filters .grid-row").removeClass("error-state")},e.PROTO_changeItems=function(t){e.applyFiltersComplete()}},a.EnhancedRadio=new function(){this.init=function(e){var t,a=e,i=a.attr("id"),n='<div class = "form-radio" />';t=a[0].checked?'<div class = "cover active" />':'<div class = "cover" />',a.wrap(n),a.parent(".form-radio").append(t),$('label[for="'+i+'"]').appendTo(a.parent(".form-radio"))},this.change=function(e){var t=$(this),a=t.attr("name"),i="[name="+a+"]";$(i).siblings(".cover").removeClass("active"),t.siblings(".cover").toggleClass("active")}},a.EnhancedCheckbox=new function(){this.init=function(e){var t,a=e,i='<div class = "form-checkbox" />';t=a.is(":checked")?'<div class = "cover active" />':'<div class = "cover" />',a.wrap(i),a.parent(".form-checkbox").append(t)},this.change=function(e){$(this).siblings(".cover").toggleClass("active")}},a.EnhancedSelect=new function(){this.Simple=new function(){this.init=function(e){var t,a,i,n,o,r=e;o=r.siblings(".placeholder").html(),r.find("option").each(function(e,a){n=$(this),void 0!=o&&o.length>0?(t=o,r.prepend('<option value data-select-placeholder = "null"></option>'),r.val("")):n.attr("selected")&&(t=n.text())}),r.addClass("widget-active"),a='<div class="t-body-bold filter-value"><div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+t+"</div></div></div>",i=r.parent().append(a)},this.click=function(){var e,t,a=$(this),i=$(this).val(),e=a.find("option[value='"+i+"']").text(),n=void 0!=e&&e.length>0?e:i;t='<div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+n+"</div></div>",a.siblings(".filter-value").html(t)}},this.Card=new function(){this.init=function(e){var t,a,i,n,o,r,d,s,l=e;l.find("option").each(function(e){o=$(this),o.attr("selected")&&(t=o.text(),r=void 0!=o.attr("data-payment-class")?o.attr("data-payment-class"):"none")}),l.addClass("widget-active"),i='<div class="t-body-bold filter-value"><div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+t+"</div></div></div>",n=e.parent().append(i),l.attr("value",t),d=l.closest(".filter-item").siblings(".payment-fineprint"),d.length>0&&(d.find("[data-smallprint-for]").removeClass("active"),d.find("[data-smallprint-for="+r+"]").addClass("active"))},this.click=function(){var e,t,a,i,n,o=$(this);o.find("option").each(function(a){t=$(this),t[0].selected&&(activeValue=t.text(),e=void 0!=t.attr("data-card-type")?t.attr("data-card-type"):"none",paymentClass=void 0!=t.attr("data-payment-class")?t.attr("data-payment-class"):"none")}),n='<div class = "picker-icon"></div><div class= "filter-text"><div class = "filter-text-inner">'+activeValue+"</div></div>",o.siblings(".filter-value").html(n),i=o.closest(".filter-item").siblings(".payment-fineprint"),i.length>0&&(i.find("[data-smallprint-for]").removeClass("active"),i.find("[data-smallprint-for="+paymentClass+"]").addClass("active"))}},this.State=new function(){this.init=function(e){var t,a,i,n,o,r,d,s,l=e;l.find("option").each(function(e){o=$(this),o.attr("selected")&&(t=o.text(),a=void 0!=o.attr("data-card-type")?o.attr("data-card-type"):"none",r=void 0!=o.attr("data-payment-class")?o.attr("data-payment-class"):"none")}),l.addClass("widget-active"),i='<div class="t-body-bold filter-value"><div class = "picker-icon"></div><div class= "filter-text '+a+'"><div class = "account-icon"></div><div class = "filter-text-inner">'+t+"</div></div></div>",n=e.parent().append(i),l.attr("value",t),d=l.closest(".filter-item").siblings(".payment-fineprint"),d.length>0&&(d.find("[data-smallprint-for]").removeClass("active"),d.find("[data-smallprint-for="+r+"]").addClass("active"))},this.click=function(){var e,t,a,i,n,o=$(this);o.find("option").each(function(a){t=$(this),t[0].selected&&(activeValue=t.val().length>0?t.val():t.html(),e=void 0!=t.attr("data-card-type")?t.attr("data-card-type"):"none",paymentClass=void 0!=t.attr("data-payment-class")?t.attr("data-payment-class"):"none")});var a=$(this).val(),r=o.find("option[value='"+a+"']").text(),d=void 0!=r&&r.length>0?r:a;n='<div class = "picker-icon"></div><div class= "filter-text '+e+'"><div class = "account-icon"></div><div class = "filter-text-inner">'+d+"</div></div>",o.siblings(".filter-value").html(n),i=o.closest(".filter-item").siblings(".payment-fineprint"),i.length>0&&(i.find("[data-smallprint-for]").removeClass("active"),i.find("[data-smallprint-for="+paymentClass+"]").addClass("active"))}}},a.FocusReveal=new function(){this.init=function(e){var t=e,a=t.attr("data-focus-reveal-target"),i=$(a);i&&(i.css("display","none"),t.on("focus",function(){i.slideDown("fast",function(){i.css("overflow","visible")})}))}},a.ShowHideDrawer=new function(){this.init=function(e){var t=e,a=t.find("*[data-widget-type=show-hide-drawer-show]"),i=t.find("*[data-widget-type=show-hide-drawer-hide]"),n=t.find("*[data-widget-type=show-hide-drawer-origin]"),o=t.find("*[data-widget-type=show-hide-drawer-drawer]");a&&n&&o&&a.on("click",function(e){n.fadeOut("fast",function(){o.slideDown("fast")}),i.on("click",function(e){o.fadeOut("fast",function(){n.fadeIn("fast")})}),e.preventDefault()})}},a.InputFocusSelectRadio=new function(){this.init=function(e){var t=e,a=t.find("input[type=text]");a&&a.each(function(){$(this).on("focus",function(){var e=$(this).parents(".radio-group").find("input[type=radio]");e.attr("checked","checked"),t.find(".cover").removeClass("active"),e.next(".cover").addClass("active")})})}},a.ToolTip=new function(){this.click=function(e){var a,i,n,o,r,d,s,l,c,p,f,n,o,u,h,v,m,g=$(this),l=g.find("[data-action-role=tooltip-body]").attr("data-action-state"),w=$(e.target);e.stopPropagation(),t(e),"open"!=l?(d=g.attr("data-widget-name"),s=$("*[data-action-role = 'tooltip-body'][data-widget-name = '"+d+"']"),l=s.attr("data-action-state"),g.removeClass("left"),s.find(".tooltip-body").removeAttr("css"),c=g.offset(),p=c.left+8,f=$(window).width(),n=$(window).height(),o=c.top-$("body").scrollTop(),m=navigator.userAgent.indexOf("IEMobile")>=0?!0:!1,u=parseInt(s.find(".tooltip-body").css("width"),10),h=$("html").attr("data-current-breakpoint"),("large"===h||"xlarge"===h||"medium"===h)&&f/2>p&&g.addClass("left"),u-p>20&&(a=p+u>f-20?p-f+30:p-u-8,s.find(".tooltip-body").css("right",a)),"animation"===s.attr("data-open-by")?s.slideToggle(300,function(){g.attr("data-action-state","open")}):s.attr("data-action-state","open"),s.attr("aria-hidden","false"),m||(i=s.find(".tooltip-body").height()+30,i>n-o&&(v=c.top-n+i+60,$("html, body").animate({scrollTop:v},600)))):t(e)}},a.CardSelection=new function(){this.click=function(e){e.preventDefault();var t=$(this);t.siblings().removeClass("active").addClass("inactive"),t.removeClass("inactive").addClass("active")}},a.CardTypeReveal=new function(){var e={};this.init=function(t){e.cardChangeBlock=$("*[data-widget-type=cards-list]")},this.keyup=function(t){var a=$(this),i=e.cardChangeBlock,n=a.val(),o=n.slice(0,4),r;r="4"===o.slice(0,1)?"visa":"51"===o.slice(0,2)||"55"===o.slice(0,2)?"mc":"34"===o.slice(0,2)||"37"===o.slice(0,2)?"amex":"6011"===o||"65"===o.slice(0,2)?"discover":n.length>4?"fail":"none",i.find("*[data-card-type]").each(function(){var e=$(this).attr("data-card-type");"fail"!=r?e!=r&&"none"!=r?$(this).addClass("inactive"):$(this).removeClass("inactive"):$(this).addClass("inactive")})}},a.Dismissable=new function(){function e(){ajaxCall("as")}var t=this;t.init=function(e){var t=e,a=t.find(".close-btn");a.on("click",function(){t.fadeOut(400),ajaxCall()})}},a.ActionPrompt=new function(){this.init=function(e){var t=e,a=t.attr("data-widget-name"),i=$("*[data-widget-type=action-prompt-target][data-widget-name="+a+"]");cancelBtn=i.find("*[data-widget-action=cancel]").filter(function(){return i[0]===$(this).closest("*[data-widget-type=action-prompt-target]")[0]});var n=void 0!=t.attr("data-transition-type")?t.attr("data-transition-type"):"toggle";"fadeoutfadein"===n?cancelBtn.on("click",function(){originalSection=t.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=t.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),t.removeClass("prompt-revealed"),i.fadeOut(300,function(){originalSection.fadeIn(300)})}):cancelBtn.on("click",function(){$("*[data-widget-type=action-prompt][data-widget-name="+a+"]").removeClass("prompt-revealed"),i.length>0&&i.fadeOut(300,function(){$(this).removeClass("active")})})},this.reveal=function(e){var t,a=$(this),i=a.attr("data-widget-name"),n=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle",o=$("[data-widget-type=action-prompt-target][data-widget-name="+i+"]"),r=a.closest(".funding-source-inner"),d=a.closest("*[data-widget-type=inline-actionable]").find("[data-widget-type=action-prompt-target].active");if(a.hasClass("prompt-revealed")?a.removeClass("prompt-revealed"):a.addClass("prompt-revealed"),"fadeoutfadein"===n)t=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),t.fadeOut(300,function(){o.fadeIn(300)});else if(d.length>0){var s=d.attr("data-widget-name"),l=o.attr("data-widget-name");$("[data-widget-type=action-prompt][data-widget-name="+s+"]").removeClass("prompt-revealed"),d.fadeOut(300,function(){o.fadeIn(300,function(){$(this).addClass("active"),$("[data-widget-type=action-prompt][data-widget-name="+l+"]").addClass("prompt-revealed"),$(this).css("overflow","")}),$(this).removeClass("active")})}else o.fadeIn(300,function(){$(this).addClass("active"),$(this).css("overflow","")})}},a.MpActionPrompt=new function(){this.init=function(e){var t=e,a=t.attr("data-widget-name"),i=$("*[data-widget-type=mp-action-prompt-target][data-widget-name="+a+"]");cancelBtn=i.find("*[data-widget-action=cancel]").filter(function(){return i[0]===$(this).closest("*[data-widget-type=mp-action-prompt-target]")[0]});var n=void 0!=t.attr("data-transition-type")?t.attr("data-transition-type"):"toggle";"fadeoutfadein"===n?cancelBtn.on("click",function(){originalSection=t.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=t.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),t.removeClass("prompt-revealed"),i.fadeOut(300,function(){originalSection.fadeIn(300)})}):cancelBtn.on("click",function(){$("*[data-widget-type=mp-action-prompt][data-widget-name="+a+"]").removeClass("prompt-revealed"),i.length>0&&($(this).closest(".payee-container").animate({backgroundColor:"transparent"},300),$(this).closest(".payee-container").siblings(".ruleset.with-or").fadeTo(300,1),i.fadeOut(300,function(){$(this).removeClass("active")}))})},this.reveal=function(e){var t,a=$(this),i=a.attr("data-widget-name"),n=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle",o=$("[data-widget-type=mp-action-prompt-target][data-widget-name="+i+"]"),r=a.closest(".funding-source-inner"),d=a.closest(".payee-container").find("[data-widget-type=mp-action-prompt-target].active"),s=a.closest(".payee-container");if(a.hasClass("prompt-revealed")?a.removeClass("prompt-revealed"):a.addClass("prompt-revealed"),"fadeoutfadein"===n)t=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),t.fadeOut(300,function(){o.fadeIn(300)});else if(d.length>0){var l=d.attr("data-widget-name"),c=o.attr("data-widget-name");$("[data-widget-type=mp-action-prompt][data-widget-name="+l+"]").removeClass("prompt-revealed"),d.fadeOut(300,function(){o.fadeIn(300,function(){$(this).addClass("active"),$("[data-widget-type=mp-action-prompt][data-widget-name="+c+"]").addClass("prompt-revealed"),$(this).css("overflow","")}),$(this).removeClass("active")})}else s.animate({backgroundColor:"#F6F6F6"},300),s.next(".ruleset.with-or").fadeTo(300,.01),s.prev(".ruleset.with-or").fadeTo(300,.01),o.fadeIn(300,function(){$(this).addClass("active"),$(this).css("overflow","")})}},a.RadioClear=new function(){this.change=function(e){var t,a,i=$(this),n=i.attr("data-widget-name"),o=$('*[data-widget-type=section-to-clear][data-widget-name="'+n+'"]'),r;o.find("input").each(function(){t=$(this),t.val("").removeClass("prefill"),t.removeClass("error"),t.siblings(".contextual-error").removeClass("active")}),o.find("select").each(function(){a=$(this),a.find("option[selected]").removeAttr("selected"),r=a.find("option:first"),r.attr("selected","selected"),a.siblings(".filter-value").find(".filter-text-inner").html(r.html()),a.siblings(".contextual-error").removeClass("active")}),o.find(".card-balance").remove()}},a.RadioHide=new function(){this.change=function(e){var t=$(this).attr("data-widget-name"),a=$('*[data-widget-type=section-to-hide][data-widget-name="'+t+'"]');a.toggleClass("hide-height")}},a.RadioExpandAnimate=new function(){this.init=function(e){var t=e,a=t.find("[data-widget-role=open]"),i=t.find("[data-widget-role=close]"),n=e.attr("data-widget-name"),o=$('[data-action-role=action-target][data-widget-name="'+n+'"]');a.on("change",function(){o.slideToggle(300)}),i.on("change",function(){o.slideToggle(300)})}},a.Contacts=new function(){function e(){$("*[data-action-role=tooltip-body]").css("display","none"),$("input[data-widget-type=contact-field]").removeAttr("disabled")}this.open=function(t){var a,i,n,o,r,d,s=$(this).attr("data-widget-name"),l=$("*[data-action-role = 'tooltip-body'][data-widget-name = '"+s+"']"),c=l.find(".close-btn"),n=$(window).height();t.preventDefault(),t.stopPropagation(),c.off("click"),c.one("click",e),$("input[data-widget-type=contact-field]").attr("disabled","disabled"),l.css("display","block")},this.delegateClick=function(t){var a=$(t).attr("data-widget-name"),i=$("*[data-action-role = 'tooltip-body'][data-widget-name = '"+a+"']"),n=$("input[data-widget-type=contact-field][data-widget-name = '"+a+"']");i.delegate("input[type=checkbox]","change",function(){var t;n.removeAttr("disabled"),$("input[type=checkbox]").not(this).attr("checked",!1).siblings(".cover").removeClass("active"),t=$(this).closest(".check").siblings("label").html(),n.val($.trim(t)),e(this),n.removeAttr("disabled")})}},a.MessageFades=new function(){this.init=function(e){window.setTimeout(function(){e.animate({opacity:0},800,function(){e.animate({height:0,padding:0,margin:0},800,function(){e.remove()})})},3e3)}},a.AccordionReveal=new function(){this.focus=function(e){var t,a=$(this).attr("data-widget-name");void 0!=a&&(t=$("*[data-widget-type=reveal-accordion-target][data-widget-name="+a+"]"),(void 0===t||void 0===t.attr("data-accordion-state")||"open"!=t.attr("data-accordion-state"))&&($("*[data-widget-type=reveal-accordion-target][data-accordion-state=open]").attr("data-accordion-state","closed").slideToggle(300),t.slideToggle(300).attr("data-accordion-state","open")))},this.change=function(e){var t,a=$(this).attr("data-widget-name");void 0!=a&&(t=$("*[data-widget-type=reveal-accordion-target][data-widget-name="+a+"]"),"open"!=t.attr("data-accordion-state")&&($("*[data-widget-type=reveal-accordion-target][data-accordion-state=open]").attr("data-accordion-state","closed").slideToggle(300),t.slideToggle(300).attr("data-accordion-state","open")))}},a.DollarInput=new function(){this.focus=function(e){var t=$(this),a=t.val();"$"!=a.substr(0,1)&&t.val("$"+a)},this.blur=function(e){var t=$(this),a=t.val();1===a.length&&t.val("")},this.keyup=function(e){var t=$(this),a=t.val();a.indexOf("$")<0&&t.val("$"+a)}},a.PercentageInput=new function(){this.blur=function(e){var t=$(this),a=t.val(),i=a.slice(-1);a&&"%"!==i&&t.val(a+"%")}},a.BankAccountHelper=new function(){this.init=function(e){$("input[data-widget-type=check-helper-acct-field]").focus(function(){var e=$("html").attr("data-current-breakpoint");("xlarge"===e||"large"===e)&&$(".check-image-highlight").removeClass("hide routing").addClass("acct")}),$("input[data-widget-type=check-helper-acct-field]").blur(function(){var e=$("html").attr("data-current-breakpoint");("xlarge"===e||"large"===e)&&$(".check-image-highlight").removeClass("acct routing").addClass("hide")}),$("input[data-widget-type=check-helper-routing-field]").focus(function(){var e=$("html").attr("data-current-breakpoint");("xlarge"===e||"large"===e)&&$(".check-image-highlight").removeClass("hide acct").addClass("routing")}),$("input[data-widget-type=check-helper-routing-field]").blur(function(){var e=$("html").attr("data-current-breakpoint");("xlarge"===e||"large"===e)&&$(".check-image-highlight").removeClass("acct routing").addClass("hide")})}},a.HelpBubble=new function(){this.hide=function(e){var t=$("html").attr("data-current-breakpoint");"medium"!=t&&"small"!=t&&$("#bubble").removeClass("active")},this.reveal=function(e){var t,a,i,n,o,r,d,s,l,c,p,f=$("html").attr("data-current-breakpoint");"medium"!=f&&"small"!=f&&(t=$(this),p=$("#bubble"),a=t.closest(".input-fieldset"),i=void 0!=a.attr("data-help-section")?a.attr("data-help-section"):"general",n=a.position().top,parentHalfHeight=a.height()/2,l=a.find(".contextual-help").html(),c="clear-help"===$(this).attr("data-widget-property")?!0:!1,void 0!=l&&l.length>0&&!c?(p.attr("data-current-section",i),p.find(".bubble-text").html(l),d=n+parentHalfHeight-p.find(".bubble-container").height()/2-7,p.hasClass("active")||!p.hasClass("first")?(p.addClass("active"),p.animate({top:d},400)):(p.css("top",d),p.addClass("active")),p.removeClass("first")):p.addClass("first"))}},a.SegAccts=new function(){function t(e,t){var a,i,n,o=void 0!==t?t:$(this),r=o.closest("[data-transaction-id]"),d=r.attr("data-transaction-id"),s=o.attr("data-widget-name"),l=$('[data-transaction-id="'+d+'"]'),c=this.outDelay,p=this.inDelay;e&&(e.preventDefault(),e.stopPropagation()),o.hasClass("prompt-revealed")?(a=r.find("[data-widget-property=replaced-by-prompt]"),i=r.find('[data-widget-type=action-prompt-target][data-widget-name="'+s+'"]'),o.removeClass("prompt-revealed")):(a=r.find('[data-widget-type=action-prompt-target][data-widget-name="'+s+'"]'),n=r.find(".active.prompt-box"),n.length>0?i=n:(i=r.find("[data-widget-property=replaced-by-prompt]"),c=0),o.addClass("prompt-revealed")),i.slideUp(c,function(){i.removeClass("active"),a.slideDown(p,function(){a.addClass("active")})})}this.click=function(a){var i=$(this);e.Async.ajaxCall($(this),null,"/Master/lib/ajax/true_result.json",function(){t(a,i)})}},a.DynamicFrequency=new function(){this.init=function(e){function t(){var e,t,n,r,f=o.val().length>0?!0:!1,u=s.val().length>0?!0:!1;if(e=o.val(),p.length>0&&p.is(":checked")&&f)l.addClass("inactive"),c.removeClass("inactive"),r=e+" will be transferred one time.",c.html(r);else if(f&&u){switch(dateValues=i(s.val()),t=a(d),frequencyText=t.label,frequencyType=t.frequencyType){case"daily":r=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every day thereafter.  You can edit this any time.";break;case"weekly":r=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every "+dateValues.thisDay+" thereafter.  You can edit this any time.";break;case"biweekly":r=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every other "+dateValues.thisDay+" thereafter.  You can edit this any time.";break;case"monthly":r=e+" will be transferred "+frequencyType+" starting on "+dateValues.thisDay+", "+dateValues.value+" and on every "+dateValues.thisOrdinal+" day of the month thereafter.  You can edit this any time.";break;default:r=!1}r&&(c.addClass("inactive"),l.removeClass("inactive"),l.html(r))}else c.addClass("inactive"),l.addClass("inactive")}function a(e){var t,a,i;return $(e).each(function(){$(this).is(":checked")&&(a=$(this),t=a.siblings("label").html().toLowerCase(),i=a.attr("data-frequency"))}),{label:t,frequencyType:i}}function i(e){var t=new Date(e),a=e,i=t.getDate(),n=[null,"1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th","21st","22nd","23rd","24th","25th","26th","27th","28th","29th","30th","31th"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=o[t.getUTCDay()],d=n[i];return{value:a,dayOfWeek:i,thisDay:r,thisOrdinal:d}}var n=e,o=e.find("[data-widget-role=amount-field]"),r=e.find("[name=recurrence]"),d=e.find("[name=frequencyOption]"),s=e.find("[data-widget-property=date-input]"),l=e.find("[data-widget-role=recurring-statement]"),c=e.find("[data-widget-role=recurring-statement-once]"),p=e.find("#OneTime");o.on("blur",function(){t()}),r.on("change",function(){t()}),d.on("change",function(){t()}),s.on("change",function(){t()})}},a.EditNameInline=new function(){this.init=function(t){function a(){l.val(d.text()),r.fadeOut(0),s.fadeIn(300)}function i(){s.fadeOut(0),r.fadeIn(300)}function n(e){e&&i()}var o=t,r=t.find("[data-widget-property=view-state]"),d=r.find("[data-widget-property=view-field]"),s=t.find("[data-widget-property=edit-state]"),l=s.find("[data-widget-property=edit-field]"),c=t.find("[data-widget-role=edit-btn]"),p=t.find("[data-widget-role=save-btn]"),f=t.find("[data-widget-role=cancel-btn]");c.on("click",a),f.on("click",i),p.on("click",function(){e.Async.ajaxCall($(this),o,"/Master/lib/ajax/true_result.json",n)})}},a.ToggleField=new function(){this.change=function(){var e=$(this),t=e.attr("data-widget-name"),a=$("input[data-widget-property=date-input][data-widget-name="+t+"]"),i=e.prop("checked"),n=a.siblings("label"),o=n.find("span");i?(a.addClass("inactive").attr("disabled","disabled").val(""),n.addClass("inactive"),o.text(o.attr("data-text"))):(a.removeClass("inactive").removeAttr("disabled").val(""),a.siblings("label").removeClass("inactive"))}},a.enhanceLink=function(e){var t,a=e,i=a.find("a[data-widget-role=link-target]");i.length>0&&(t=i.attr("href"),t.length>0&&$(a).on("click",function(){window.open(t,"_blank")}))},a.AddAnotherFile=new function(){var e=this;e.init=function(e){var t=e.attr("data-widget-name"),a=$("[data-widget-role=fileTable][data-widget-name="+t+"]"),i=$("[data-widget-role=addBox][data-widget-name="+t+"]"),n=e.find("input[type=button]");n.on("click",function(t){e.remove(),a.addClass("has-add-another"),i.removeClass("inactive")})}},a.FileUpload=new function(){var t=this;t.test=function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.type="file",!e.disabled},t.init=function(a){if(t.test()){var i=a.attr("data-widget-name"),n=a,o=$("[data-widget-role=fileUploadTarget][data-widget-name="+i+"]"),r=$("[data-widget-role=fileReset][data-widget-name="+i+"]"),d=$(o).siblings(".item"),s=$('[data-widget-role="fileSubmit"]');$(".no-file-upload-support").css("display","none"),$(".yes-file-upload-support").css("display","block"),o.length>0&&(a.on("click",function(e){o.click()}),o.on("change",function(e){var t=o[0].value,a=t.split("\\").pop();d.html(a),o.addClass("destroy"),n.addClass("destroy"),r.removeClass("inactive"),t?s.prop("disabled",!1):s.prop("disabled",!0)}),r.on("click",function(t){var i="<input type='file' class = 'fileUpload' data-widget-role='fileUploadTarget' data-widget-name = 'file-upload' />";o.remove(),$(i).insertAfter(n),n.removeClass("destroy"),r.addClass("inactive"),s.prop("disabled",!0),d.html(""),a.unbind(),o.unbind(),r.unbind(),e.Widget.FileUpload.init(n)}))}}},a.ReferEmails=new function(){function e(e){var t=e.find("input").length;return t}var t=this;t.init=function(t){var a,i=12,n=4,o=t,r=o.find("[data-widget-type=add-link]"),d=r.closest(".help-link"),s="<div><input type = 'text' placeholder = 'Email (Optional)' aria-required = 'true' tabindex = '3'/><div class = 'contextual-error' role = 'alert' aria-live = 'polite'>[Error State]</div></div>";r.on("click",function(t){var l=0,c,p;if(t.preventDefault(),a=e(o),console.log(a),i>a){for(;3!=l;)c=0===l?"data-role = 'insert'":"",s=$("<div><input type = 'text'"+c+"placeholder = 'Email (Optional)' aria-required = 'true' tabindex = '"+n+"'/><div class = 'contextual-error' role = 'alert' aria-live = 'polite'>[Error State]</div></div>"),s.insertBefore(d),r.attr("tabindex",n+1),n++,l++;$("button").attr("tabindex",parseInt($("button").attr("tabindex"))+3),p=$("[data-role=insert]").filter(":last"),p.focus(),$("html, body").animate({scrollTop:p.offset().top-40},300)}else r.remove()})}},a.replaceLinkWithConfirm=new function(){this.resend=function(){setTimeout(function(){a.replaceLinkWithConfirm.confirm()},1e3)},this.confirm=function(){var e=$(".email-resend-link"),t=$(".email-resend-link").attr("data-confirm-msg");e.fadeOut("fast",function(){e.html(t),e.fadeIn("fast")})}},a.ClearPrefill=new function(){this.init=function(e){e.attr("data-starting-value",e.val())},this.keyup=function(){var e=$(this),t=e.attr("data-starting-value");void 0!==typeof t&&""!=t&&e.val()!=t&&(e.removeClass("prefill"),e.off("keyup",e.keyup))
}},a.PageView=new function(){var e=this,t=!1;e.init=function(t){var a=t,i=a.attr("data-widget-name");e.refresh(!1)},e.change=function(t){var a=$(this),i=a.attr("data-widget-name");e.refresh(!0)},e.refresh=function(e){var t=$("*[data-widget-type=page-view-control]:checked").attr("data-widget-name");e?($("*[data-widget-type=page-view]").fadeOut(300).css("overflow","visible"),setTimeout(function(){$("*[data-widget-type=page-view][data-widget-name="+t+"]").fadeIn(300).css("overflow","visible")},300)):($("*[data-widget-type=page-view]").hide(0).css("overflow","visible"),$("*[data-widget-type=page-view][data-widget-name="+t+"]").show(0).css("overflow","visible"))}},a.LoadMore=new function(){var e=this,t="<a href='#'><div class = 'search-result saved'><div class = 'search-result-content'><div class = 'payee-name has-caret'>Loaded Result</div></div></div></a>";e.click=function(t){t.preventDefault();var a=$(this),i=a.closest("*[data-widget-type=load-more-container]");a.find(".payee-name").addClass("inline-loading"),setTimeout(function(){e.LoadComplete(a,i)},2500)},e.LoadComplete=function(e,a){e.find(".payee-name").removeClass("inline-loading");for(var i=0;5>i;i++)e.before($(t))}},a.DeletePayee=new function(){var e=this;e.init=function(t){t.find("*[data-property-action=delete]").click(e.click)},e.click=function(t){var a=$(this),i=a.closest("*[data-widget-type=delete-payee-container]");$(".global-notice.processing").fadeIn(300),$(".global-overlay").fadeIn(300),setTimeout(function(){e.DeleteComplete(i)},2500)},e.DeleteComplete=function(e){$(".global-notice.processing").fadeOut(300),$(".global-overlay").fadeOut(300),setTimeout(function(){e.find("*[data-widget-type=module-message-overlay]").fadeIn(300),e.find("*[data-widget-type=module-message-alert]").fadeIn(300)},500),setTimeout(function(){window.location.href="index.php?key=flow-bill-pay&screen=my-payees-empty"},2500)}},a.ProcessingOverlay=new function(){var e=this,t=null,i=null,n=null;e.init=function(e){t=e,i=e.find(".global-overlay"),n=e.find(".global-notice.processing"),$("body").css("position","relative")},e.show=function(e,t){void 0===e&&(e=!0),i.fadeTo(300,.5,function(){t&&t.call()}),e&&n.fadeIn(300),a.BackToTop&&a.BackToTop.forceHidden(!0)},e.hide=function(e){i.fadeOut(300,function(){e&&e.call(),a.BackToTop&&a.BackToTop.forceHidden(!1)}),n.fadeOut(300)},e.fullscreen=function(e){void 0===e&&(e=!0),e?(t.closest("#page-content").css("position",""),void 0===n.attr("data-pos-top")?n.css("top",30):(n.attr("data-pos-top",30),n.attr("data-pos-type","static"))):($("body").css("position",""),t.closest("#page-content").css("position","relative"),void 0===n.attr("data-pos-top")?n.css("top",30):(n.css({"margin-top":0,top:0}),n.attr("data-pos-top",30),n.attr("data-pos-type","static")))}},a.LoadMoreTransaction=new function(){var e=this,t="";e.click=function(a){t=$(this).prev().clone().wrap("<p>").parent().html(),a.preventDefault();var i=$(this),n=i.closest("*[data-widget-type=load-more-container]");i.find(".payee-name").addClass("inline-loading"),setTimeout(function(){e.LoadComplete(i,n)},2500)},e.LoadComplete=function(e,a){e.find(".payee-name").removeClass("inline-loading");for(var i=0;5>i;i++)e.before($(t))}},a.PrintForm=new function(){var e=this,t;e.init=function(e){t=e,t.find(".cover").each(function(e){0===e?$(this).append('<img class="radio-deselected" src="Images/dd/radio-selected.png" width="30" alt="">').next().on("click",function(){$(this).prev().html('<img class="radio-selected" src="Images/dd/radio-selected.png" width="30" alt="">'),$(".cover").not($(this).prev()).html('<img class="radio-deselected" src="Images/dd/radio-deselected.png" width="30" alt="">')}):$(this).append('<img class="radio-deselected" src="Images/dd/radio-deselected.png" width="30" alt="">').next().on("click",function(){$(this).prev().html('<img class="radio-selected" src="Images/dd/radio-selected.png" width="30" alt="">'),$(".cover").not($(this).prev()).html('<img class="radio-deselected" src="Images/dd/radio-deselected.png" width="30" alt="">')})}),t.find(".dd-print-btn").on("click",function(e){e.preventDefault(),window.print()})}},a.ResponsiveImage=new function(){var e=this,t,a={};this.init=function(i){t=i;for(var n=i.attr("data-property-breakpoints").split(","),o=i.attr("data-property-src").split(","),r=0;r<n.length;r++)a[n[r]]=o[r];$(window).on("orientationchange orientationEvent resize",e.updateSize)},this.updateSize=function(){var e=$("html").attr("data-current-breakpoint");a.hasOwnProperty(e)&&a[e]!=t.attr("src")&&(console.log("found"),t.attr("src",a[e]))}},a.BarChart=new function(){var e=this;this.init=function(e){var t=parseFloat(e.attr("data-property-max")),a=parseFloat(e.attr("data-property-value")),i=e.find("*[data-widget-property=bar-fill]"),n=Math.min(Math.max(0,a/t),1);i.css("width",""+parseInt(100*n)+"%"),n>=1&&i.addClass("full"),1==e.find("*[data-widget-property=min-amount]").length&&1==e.find("*[data-widget-property=max-amount]").length&&(a>0&&e.find("*[data-widget-property=min-amount]").html("&nbsp;"),1===n&&e.find("*[data-widget-property=max-amount]").html("&nbsp;"))}},a.DismissableNotification=new function(){function e(){}var t=this,a,i,n;t.init=function(e){var t=e;i=t.closest(".container"),n=t.parent(),a=i.prev(".container.section-title-group");var o=t.find(".close-btn");o.on("click",function(){t.slideUp(400,function(){$(this).remove()}),1==n.children().length&&(a.animate({height:0,opacity:0},400),i.animate({height:0,opacity:0},400))})}},a.ActionPrompt2=new function(){this.init=function(e){var t=e,a=t.attr("data-widget-name"),i=$("*[data-widget-type=action-prompt-target][data-widget-name="+a+"]");cancelBtn=i.find("*[data-widget-action=cancel]").filter(function(){return i[0]===$(this).closest("*[data-widget-type=action-prompt-target]")[0]});var n=void 0!=t.attr("data-transition-type")?t.attr("data-transition-type"):"toggle";"fadeoutfadein"===n?cancelBtn.on("click",function(){originalSection=t.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=t.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),t.removeClass("prompt-revealed"),i.fadeOut(300,function(){originalSection.fadeIn(300)})}):cancelBtn.on("click",function(){$("*[data-widget-type=action-prompt][data-widget-name="+a+"]").removeClass("prompt-revealed"),i.length>0&&i.fadeOut(300,function(){$(this).removeClass("active")})})},this.reveal=function(e){var t,a=$(this),i=a.attr("data-widget-name"),n=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle",o=$("[data-widget-type=action-prompt-target][data-widget-name="+i+"]"),r=a.closest(".funding-source-inner"),d=a.closest("*[data-widget-type=inline-actionable]").find("[data-widget-type=action-prompt-target].active");if(a.hasClass("prompt-revealed")?a.removeClass("prompt-revealed"):a.addClass("prompt-revealed"),"fadeoutfadein"===n)t=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),t.fadeOut(300,function(){o.fadeIn(300)});else if(d.length>0){var s=d.attr("data-widget-name"),l=o.attr("data-widget-name");$("[data-widget-type=action-prompt][data-widget-name="+s+"]").removeClass("prompt-revealed"),d.fadeOut(300,function(){o.fadeIn(300,function(){$(this).addClass("active"),$("[data-widget-type=action-prompt][data-widget-name="+l+"]").addClass("prompt-revealed"),$(this).css("overflow","")}),$(this).removeClass("active")})}else o.fadeIn(300,function(){$(this).addClass("active"),$(this).css("overflow","")})}},a.MpActionPrompt2=new function(){this.init=function(e){var t=e,a=t.attr("data-widget-name"),i=$("*[data-widget-type=mp-action-prompt-target][data-widget-name="+a+"]");cancelBtn=i.find("*[data-widget-action=cancel]").filter(function(){return i[0]===$(this).closest("*[data-widget-type=mp-action-prompt-target]")[0]});var n=void 0!=t.attr("data-transition-type")?t.attr("data-transition-type"):"toggle";"fadeoutfadein"===n?cancelBtn.on("click",function(){originalSection=t.closest("[data-widget-property=replaced-by-prompt]"),0===originalSection.length&&(originalSection=t.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]")),t.removeClass("prompt-revealed"),i.fadeOut(300,function(){originalSection.fadeIn(300),cancelBtn.closest('[data-widget-type="enable-disable-phone-container"]').removeClass("changing")})}):cancelBtn.on("click",function(){$("*[data-widget-type=mp-action-prompt][data-widget-name="+a+"]").removeClass("prompt-revealed"),i.length>0&&($(this).closest(".payee-container").animate({backgroundColor:"transparent"},300),$(this).closest(".payee-container").siblings(".ruleset.with-or").fadeTo(300,1),i.fadeOut(300,function(){$(this).removeClass("active"),cancelBtn.closest('[data-widget-type="enable-disable-phone-container"]').removeClass("changing")}))})},this.reveal=function(e){var t,a=$(this),i=a.attr("data-widget-name"),n=void 0!=a.attr("data-transition-type")?a.attr("data-transition-type"):"toggle",o=$("[data-widget-type=mp-action-prompt-target][data-widget-name="+i+"]"),r=a.closest(".funding-source-inner"),d=a.closest(".payee-container").find("[data-widget-type=mp-action-prompt-target].active"),s=a.closest(".payee-container");if(a.closest("[data-widget-type=enable-disable-phone-container]").addClass("changing"),a.hasClass("prompt-revealed")?a.removeClass("prompt-revealed"):a.addClass("prompt-revealed"),d.hasClass("sms-opt-in")&&d.find("#AgreeCommunicationsDisclosure").length&&!d.find("#AgreeCommunicationsDisclosure").prop("checked"))return d.find("#AgreeCommunicationsDisclosure").addClass("error").end().find(".inline-error").removeClass("hidden"),!1;if($("#AgreeCommunicationsDisclosure").removeClass("error"),d.find(".inline-error").addClass("hidden").end().find(".inline-processing").show(),"fadeoutfadein"===n)t=a.closest("*[data-widget-type=inline-actionable]").find("*[data-widget-property=replaced-by-prompt]"),t.fadeOut(300,function(){o.fadeIn(300)});else if(d.length>0){var l=d.attr("data-widget-name"),c=o.attr("data-widget-name");$("[data-widget-type=mp-action-prompt][data-widget-name="+l+"]").removeClass("prompt-revealed"),d.fadeOut(300,function(){o.fadeIn(300,function(){$(this).addClass("active"),$("[data-widget-type=mp-action-prompt][data-widget-name="+c+"]").addClass("prompt-revealed"),$(this).css("overflow","")}),$(this).removeClass("active")})}else s.animate({backgroundColor:"#F6F6F6"},300),s.next(".ruleset.with-or").fadeTo(300,.01),s.prev(".ruleset.with-or").fadeTo(300,.01),o.fadeIn(300,function(){$(this).addClass("active"),$(this).css("overflow","")})}}};var t=function(){var e=window.navigator.userAgent,t=/(Android 4)/,i=/(iPhone|iPad)/;e.match(t)&&window.FileReader?$("html").addClass("android-modern"):e.match(i)&&window.FileReader&&$("html").addClass("ios-modern"),a()&&$("html").addClass("baseline")},a=function(){var e=!1,t=$("html").attr("data-current-breakpoint");return-1!==["medium","small"].indexOf(t)&&($("html").hasClass("android-modern")||$("html").hasClass("ios-modern")||($("html").hasClass("notouch")&&"small"===t?e=!0:$("html").hasClass("touch")&&(e=!0))),e};$(document).ready(function(){e.Widget.init(),e.Window.init(),e.Menu.init()})}(jQuery);